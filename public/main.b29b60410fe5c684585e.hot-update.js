"use strict";
self["webpackHotUpdatenode_template"]("main",{

/***/ "./app/components/Navigation.js":
/*!**************************************!*\
  !*** ./app/components/Navigation.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Navigation)
/* harmony export */ });
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! gsap */ "./node_modules/gsap/index.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_easings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/easings */ "./app/utils/easings.js");
/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data */ "./data.js");
/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_data__WEBPACK_IMPORTED_MODULE_2__);




class Navigation {
  constructor() {
    this.buttonMenu = document.querySelector(".navigation__menu__wrapper");
    this.menu = document.querySelector(".navigation__menu");
    this.expandedMenu = document.querySelector(".navigation__expanded");
    this.expandedMenuWrapper = document.querySelector(".navigation__expanded__wrapper");
    this.navNumber = document.querySelectorAll(".navigation__expanded__wrapper__menu__li__no__wrap");
    this.navName = document.querySelectorAll(".navigation__expanded__wrapper__menu__li__name__wrap");
    this.navLi = document.querySelectorAll(".navigation__expanded__wrapper__menu__li__wrapper");
    this.topLine = document.querySelector(".navigation__menu__burger__line__top");
    this.bottomLine = document.querySelector(".navigation__menu__burger__line__bottom");
    this.isExpanded = false;
    this.isAnimating = false;
    this.addEventListener();
  }
  handleMenuClick() {
    if (!this.isExpanded && !this.isAnimating) {
      this.isAnimating = true;
      this.timelineIn = gsap__WEBPACK_IMPORTED_MODULE_3__["default"].timeline({
        onComplete: () => this.isAnimating = false
      });
      this.timelineIn.set([this.navNumber, this.navName], {
        y: 100,
        rotationX: -50,
        transformOrigin: "50% 50%"
      }).to(this.expandedMenu, {
        width: "100vw",
        height: "100vh",
        borderRadius: "0",
        top: "0",
        left: "0",
        position: "fixed",
        pointerEvents: "all",
        duration: 0.8,
        ease: _utils_easings__WEBPACK_IMPORTED_MODULE_1__.SMOOTH
      }).to(this.expandedMenuWrapper, {
        autoAlpha: "1",
        duration: 0.2,
        ease: _utils_easings__WEBPACK_IMPORTED_MODULE_1__.SMOOTH
      }, "<+=0.6").to([this.navNumber, this.navName], {
        y: 0,
        rotationX: 0,
        transformOrigin: "50% 50%",
        duration: 0.8,
        ease: _utils_easings__WEBPACK_IMPORTED_MODULE_1__.SMOOTH
      }, "<").to(this.menu, {
        boxShadow: "none"
      }, 0);
      this.isExpanded = true;
      this.topLine.setAttribute("points", _data__WEBPACK_IMPORTED_MODULE_2__.topEndString);
      this.bottomLine.setAttribute("points", _data__WEBPACK_IMPORTED_MODULE_2__.bottomEndString);
    } else if (this.isExpanded && !this.isAnimating) {
      this.isAnimating = true;
      this.timelineOut = gsap__WEBPACK_IMPORTED_MODULE_3__["default"].timeline({
        onComplete: () => this.isAnimating = false
      });
      this.timelineOut.to([this.navNumber, this.navName], {
        y: -100,
        rotationX: 50,
        transformOrigin: "50% 50%",
        duration: 0.4,
        ease: _utils_easings__WEBPACK_IMPORTED_MODULE_1__.SMOOTH
      }).to(this.expandedMenu, {
        width: "22rem",
        height: "7rem",
        borderRadius: "4rem",
        position: "absolute",
        pointerEvents: "none",
        top: "6rem",
        left: "6rem",
        duration: 0.8,
        ease: _utils_easings__WEBPACK_IMPORTED_MODULE_1__.SMOOTH
      }, "<").to(this.menu, {
        boxShadow: "rgba(0, 0, 0, 0.18) 2px 2px 4px"
      });
      this.isExpanded = false;
      this.topLine.setAttribute("points", _data__WEBPACK_IMPORTED_MODULE_2__.topStartString);
      this.bottomLine.setAttribute("points", _data__WEBPACK_IMPORTED_MODULE_2__.bottomStartString);
    }
  }
  handleLiMouseOver(e) {
    if (!this.isExpanded) return;
    const hoveredLi = e.currentTarget;
    gsap__WEBPACK_IMPORTED_MODULE_3__["default"].to(hoveredLi, {
      opacity: 1,
      duration: 0.3,
      stagger: 0.02,
      ease: _utils_easings__WEBPACK_IMPORTED_MODULE_1__.SMOOTH
    });
    this.navLi.forEach(li => {
      if (li !== hoveredLi) {
        gsap__WEBPACK_IMPORTED_MODULE_3__["default"].to(li, {
          opacity: 0.2,
          duration: 0.3,
          stagger: 0.02,
          ease: _utils_easings__WEBPACK_IMPORTED_MODULE_1__.SMOOTH
        });
      }
    });
  }
  handleLiMouseOut() {
    if (!this.isExpanded) return;
    this.navLi.forEach(li => {
      gsap__WEBPACK_IMPORTED_MODULE_3__["default"].to(li, {
        opacity: 1,
        duration: 0.3,
        stagger: 0.02,
        ease: _utils_easings__WEBPACK_IMPORTED_MODULE_1__.SMOOTH
      });
    });
  }
  addEventListener() {
    this.buttonMenu.addEventListener("click", this.handleMenuClick.bind(this));
    (0,lodash__WEBPACK_IMPORTED_MODULE_0__.each)(this.navLi, li => {
      li.addEventListener("mouseover", this.handleLiMouseOver.bind(this));
      li.addEventListener("mouseout", this.handleLiMouseOut.bind(this));
    });
  }
}

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("48cefab3a3f962ddb5bf")
/******/ })();
/******/ 
/******/ }
);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQyxFQUFFLElBQUk7TUFDdkJyRCw0Q0FBSSxDQUFDZ0MsRUFBRSxDQUFDcUIsRUFBRSxFQUFFO1FBQ1ZILE9BQU8sRUFBRSxDQUFDO1FBQ1ZWLFFBQVEsRUFBRSxHQUFHO1FBQ2JXLE9BQU8sRUFBRSxJQUFJO1FBQ2JWLElBQUksRUFBRXZDLGtEQUFNQTtNQUNkLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztFQUNKO0VBRUFxQixnQkFBZ0JBLENBQUEsRUFBRztJQUNqQixJQUFJLENBQUNkLFVBQVUsQ0FBQ2MsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQ0MsZUFBZSxDQUFDK0IsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFFdEQsNENBQUksQ0FBQyxJQUFJLENBQUNpQixLQUFLLEVBQUVtQyxFQUFFLElBQUk7TUFDckJBLEVBQUUsQ0FBQzlCLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUN1QixpQkFBaUIsQ0FBQ1MsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO01BQ25FRixFQUFFLENBQUM5QixnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDK0IsZ0JBQWdCLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNuRSxDQUFDLENBQUM7RUFDSjtBQUNGOzs7Ozs7OztVQ2xLQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vZGUtdGVtcGxhdGUvLi9hcHAvY29tcG9uZW50cy9OYXZpZ2F0aW9uLmpzIiwid2VicGFjazovL25vZGUtdGVtcGxhdGUvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnc2FwIGZyb20gXCJnc2FwXCJcbmltcG9ydCB7IGVhY2ggfSBmcm9tIFwibG9kYXNoXCJcbmltcG9ydCB7IFNNT09USCB9IGZyb20gXCIuLi91dGlscy9lYXNpbmdzXCJcblxuaW1wb3J0IHsgYm90dG9tU3RhcnRTdHJpbmcsIGJvdHRvbUVuZFN0cmluZywgdG9wU3RhcnRTdHJpbmcsIHRvcEVuZFN0cmluZyB9IGZyb20gXCIuLi8uLi9kYXRhXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmF2aWdhdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYnV0dG9uTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2aWdhdGlvbl9fbWVudV9fd3JhcHBlclwiKVxuXG4gICAgdGhpcy5tZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZpZ2F0aW9uX19tZW51XCIpXG4gICAgdGhpcy5leHBhbmRlZE1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdmlnYXRpb25fX2V4cGFuZGVkXCIpXG4gICAgdGhpcy5leHBhbmRlZE1lbnVXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZpZ2F0aW9uX19leHBhbmRlZF9fd3JhcHBlclwiKVxuXG4gICAgdGhpcy5uYXZOdW1iZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdmlnYXRpb25fX2V4cGFuZGVkX193cmFwcGVyX19tZW51X19saV9fbm9fX3dyYXBcIilcbiAgICB0aGlzLm5hdk5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdmlnYXRpb25fX2V4cGFuZGVkX193cmFwcGVyX19tZW51X19saV9fbmFtZV9fd3JhcFwiKVxuICAgIHRoaXMubmF2TGkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdmlnYXRpb25fX2V4cGFuZGVkX193cmFwcGVyX19tZW51X19saV9fd3JhcHBlclwiKVxuXG4gICAgdGhpcy50b3BMaW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZpZ2F0aW9uX19tZW51X19idXJnZXJfX2xpbmVfX3RvcFwiKVxuICAgIHRoaXMuYm90dG9tTGluZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2aWdhdGlvbl9fbWVudV9fYnVyZ2VyX19saW5lX19ib3R0b21cIilcblxuICAgIHRoaXMuaXNFeHBhbmRlZCA9IGZhbHNlXG4gICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlXG5cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoKVxuICB9XG5cbiAgaGFuZGxlTWVudUNsaWNrKCkge1xuICAgIGlmICghdGhpcy5pc0V4cGFuZGVkICYmICF0aGlzLmlzQW5pbWF0aW5nKSB7XG4gICAgICB0aGlzLmlzQW5pbWF0aW5nID0gdHJ1ZVxuICAgICAgdGhpcy50aW1lbGluZUluID0gZ3NhcC50aW1lbGluZSh7IG9uQ29tcGxldGU6ICgpID0+ICh0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2UpIH0pXG4gICAgICB0aGlzLnRpbWVsaW5lSW5cbiAgICAgICAgLnNldChbdGhpcy5uYXZOdW1iZXIsIHRoaXMubmF2TmFtZV0sIHtcbiAgICAgICAgICB5OiAxMDAsXG4gICAgICAgICAgcm90YXRpb25YOiAtNTAsXG4gICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiBcIjUwJSA1MCVcIlxuICAgICAgICB9KVxuICAgICAgICAudG8odGhpcy5leHBhbmRlZE1lbnUsIHtcbiAgICAgICAgICB3aWR0aDogXCIxMDB2d1wiLFxuICAgICAgICAgIGhlaWdodDogXCIxMDB2aFwiLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogXCIwXCIsXG4gICAgICAgICAgdG9wOiBcIjBcIixcbiAgICAgICAgICBsZWZ0OiBcIjBcIixcbiAgICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgICAgIHBvaW50ZXJFdmVudHM6IFwiYWxsXCIsXG4gICAgICAgICAgZHVyYXRpb246IDAuOCxcbiAgICAgICAgICBlYXNlOiBTTU9PVEhcbiAgICAgICAgfSlcbiAgICAgICAgLnRvKFxuICAgICAgICAgIHRoaXMuZXhwYW5kZWRNZW51V3JhcHBlcixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhdXRvQWxwaGE6IFwiMVwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDAuMixcbiAgICAgICAgICAgIGVhc2U6IFNNT09USFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCI8Kz0wLjZcIlxuICAgICAgICApXG4gICAgICAgIC50byhcbiAgICAgICAgICBbdGhpcy5uYXZOdW1iZXIsIHRoaXMubmF2TmFtZV0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIHJvdGF0aW9uWDogMCxcbiAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogXCI1MCUgNTAlXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMC44LFxuICAgICAgICAgICAgZWFzZTogU01PT1RIXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIjxcIlxuICAgICAgICApXG4gICAgICAgIC50byhcbiAgICAgICAgICB0aGlzLm1lbnUsXG4gICAgICAgICAge1xuICAgICAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgMFxuICAgICAgICApXG5cbiAgICAgIHRoaXMuaXNFeHBhbmRlZCA9IHRydWVcbiAgICAgIHRoaXMudG9wTGluZS5zZXRBdHRyaWJ1dGUoXCJwb2ludHNcIiwgdG9wRW5kU3RyaW5nKVxuICAgICAgdGhpcy5ib3R0b21MaW5lLnNldEF0dHJpYnV0ZShcInBvaW50c1wiLCBib3R0b21FbmRTdHJpbmcpXG4gICAgfSBlbHNlIGlmICh0aGlzLmlzRXhwYW5kZWQgJiYgIXRoaXMuaXNBbmltYXRpbmcpIHtcbiAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSB0cnVlXG5cbiAgICAgIHRoaXMudGltZWxpbmVPdXQgPSBnc2FwLnRpbWVsaW5lKHsgb25Db21wbGV0ZTogKCkgPT4gKHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZSkgfSlcblxuICAgICAgdGhpcy50aW1lbGluZU91dFxuICAgICAgICAudG8oW3RoaXMubmF2TnVtYmVyLCB0aGlzLm5hdk5hbWVdLCB7XG4gICAgICAgICAgeTogLTEwMCxcbiAgICAgICAgICByb3RhdGlvblg6IDUwLFxuICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogXCI1MCUgNTAlXCIsXG4gICAgICAgICAgZHVyYXRpb246IDAuNCxcbiAgICAgICAgICBlYXNlOiBTTU9PVEhcbiAgICAgICAgfSlcbiAgICAgICAgLnRvKFxuICAgICAgICAgIHRoaXMuZXhwYW5kZWRNZW51LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjIycmVtXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiN3JlbVwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRyZW1cIixcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIixcbiAgICAgICAgICAgIHRvcDogXCI2cmVtXCIsXG4gICAgICAgICAgICBsZWZ0OiBcIjZyZW1cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLjgsXG4gICAgICAgICAgICBlYXNlOiBTTU9PVEhcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiPFwiXG4gICAgICAgIClcbiAgICAgICAgLnRvKHRoaXMubWVudSwge1xuICAgICAgICAgIGJveFNoYWRvdzogXCJyZ2JhKDAsIDAsIDAsIDAuMTgpIDJweCAycHggNHB4XCJcbiAgICAgICAgfSlcblxuICAgICAgdGhpcy5pc0V4cGFuZGVkID0gZmFsc2VcblxuICAgICAgdGhpcy50b3BMaW5lLnNldEF0dHJpYnV0ZShcInBvaW50c1wiLCB0b3BTdGFydFN0cmluZylcbiAgICAgIHRoaXMuYm90dG9tTGluZS5zZXRBdHRyaWJ1dGUoXCJwb2ludHNcIiwgYm90dG9tU3RhcnRTdHJpbmcpXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTGlNb3VzZU92ZXIoZSkge1xuICAgIGlmICghdGhpcy5pc0V4cGFuZGVkKSByZXR1cm5cblxuICAgIGNvbnN0IGhvdmVyZWRMaSA9IGUuY3VycmVudFRhcmdldFxuXG4gICAgZ3NhcC50byhob3ZlcmVkTGksIHtcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICBkdXJhdGlvbjogMC4zLFxuICAgICAgc3RhZ2dlcjogMC4wMixcbiAgICAgIGVhc2U6IFNNT09USFxuICAgIH0pXG5cbiAgICB0aGlzLm5hdkxpLmZvckVhY2gobGkgPT4ge1xuICAgICAgaWYgKGxpICE9PSBob3ZlcmVkTGkpIHtcbiAgICAgICAgZ3NhcC50byhsaSwge1xuICAgICAgICAgIG9wYWNpdHk6IDAuMixcbiAgICAgICAgICBkdXJhdGlvbjogMC4zLFxuICAgICAgICAgIHN0YWdnZXI6IDAuMDIsXG4gICAgICAgICAgZWFzZTogU01PT1RIXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUxpTW91c2VPdXQoKSB7XG4gICAgaWYgKCF0aGlzLmlzRXhwYW5kZWQpIHJldHVyblxuXG4gICAgdGhpcy5uYXZMaS5mb3JFYWNoKGxpID0+IHtcbiAgICAgIGdzYXAudG8obGksIHtcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgZHVyYXRpb246IDAuMyxcbiAgICAgICAgc3RhZ2dlcjogMC4wMixcbiAgICAgICAgZWFzZTogU01PT1RIXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVyKCkge1xuICAgIHRoaXMuYnV0dG9uTWVudS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oYW5kbGVNZW51Q2xpY2suYmluZCh0aGlzKSlcbiAgICBlYWNoKHRoaXMubmF2TGksIGxpID0+IHtcbiAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgdGhpcy5oYW5kbGVMaU1vdXNlT3Zlci5iaW5kKHRoaXMpKVxuICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIHRoaXMuaGFuZGxlTGlNb3VzZU91dC5iaW5kKHRoaXMpKVxuICAgIH0pXG4gIH1cbn1cbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjQ4Y2VmYWIzYTNmOTYyZGRiNWJmXCIpIl0sIm5hbWVzIjpbImdzYXAiLCJlYWNoIiwiU01PT1RIIiwiYm90dG9tU3RhcnRTdHJpbmciLCJib3R0b21FbmRTdHJpbmciLCJ0b3BTdGFydFN0cmluZyIsInRvcEVuZFN0cmluZyIsIk5hdmlnYXRpb24iLCJjb25zdHJ1Y3RvciIsImJ1dHRvbk1lbnUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtZW51IiwiZXhwYW5kZWRNZW51IiwiZXhwYW5kZWRNZW51V3JhcHBlciIsIm5hdk51bWJlciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuYXZOYW1lIiwibmF2TGkiLCJ0b3BMaW5lIiwiYm90dG9tTGluZSIsImlzRXhwYW5kZWQiLCJpc0FuaW1hdGluZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVNZW51Q2xpY2siLCJ0aW1lbGluZUluIiwidGltZWxpbmUiLCJvbkNvbXBsZXRlIiwic2V0IiwieSIsInJvdGF0aW9uWCIsInRyYW5zZm9ybU9yaWdpbiIsInRvIiwid2lkdGgiLCJoZWlnaHQiLCJib3JkZXJSYWRpdXMiLCJ0b3AiLCJsZWZ0IiwicG9zaXRpb24iLCJwb2ludGVyRXZlbnRzIiwiZHVyYXRpb24iLCJlYXNlIiwiYXV0b0FscGhhIiwiYm94U2hhZG93Iiwic2V0QXR0cmlidXRlIiwidGltZWxpbmVPdXQiLCJoYW5kbGVMaU1vdXNlT3ZlciIsImUiLCJob3ZlcmVkTGkiLCJjdXJyZW50VGFyZ2V0Iiwib3BhY2l0eSIsInN0YWdnZXIiLCJmb3JFYWNoIiwibGkiLCJoYW5kbGVMaU1vdXNlT3V0IiwiYmluZCJdLCJzb3VyY2VSb290IjoiIn0=