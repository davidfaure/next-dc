"use strict";
self["webpackHotUpdatenode_template"]("main",{

/***/ "./app/components/Preloader.js":
/*!*************************************!*\
  !*** ./app/components/Preloader.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! gsap */ "./node_modules/gsap/index.js");
/* harmony import */ var ogl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ogl */ "./node_modules/ogl/src/core/Texture.js");
/* harmony import */ var prefix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prefix */ "./node_modules/prefix/index.js");
/* harmony import */ var prefix__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prefix__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classes_Component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classes/Component */ "./app/classes/Component.js");
/* harmony import */ var _utils_text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/text */ "./app/utils/text.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _utils_easings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/easings */ "./app/utils/easings.js");







/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class extends classes_Component__WEBPACK_IMPORTED_MODULE_1__["default"] {
  constructor({
    canvas
  }) {
    super({
      classes: {},
      element: ".preloader",
      elements: {
        title: ".preloader__text",
        number: ".preloader__number",
        numberText: ".preloader__number__text"
      }
    });
    this.canvas = canvas;
    this.counter = 0;
    this.transformPrefix = prefix__WEBPACK_IMPORTED_MODULE_0___default()("transform");
    window.TEXTURES = {};
    this.elements.spans = (0,_utils_text__WEBPACK_IMPORTED_MODULE_2__.split)({
      append: true,
      element: this.elements.title,
      expression: "<br>"
    });
    (0,lodash__WEBPACK_IMPORTED_MODULE_3__.each)(this.elements.spans, element => {
      (0,_utils_text__WEBPACK_IMPORTED_MODULE_2__.split)({
        append: false,
        element,
        expression: ""
      });
    });

    // this.createLoader()
  }

  createLoader() {
    this.animateIn = gsap__WEBPACK_IMPORTED_MODULE_5__.gsap.timeline();
    this.animateIn.set(this.elements.title, {
      autoAlpha: 1
    });
    (0,lodash__WEBPACK_IMPORTED_MODULE_3__.each)(this.elements.spans, (line, index) => {
      const letters = document.querySelectorAll("span");
      const onStart = _ => {
        gsap__WEBPACK_IMPORTED_MODULE_5__.gsap.fromTo(letters, {
          autoAlpha: 0,
          display: "inline-block",
          whiteSpace: "pre-line",
          y: "100%"
        }, {
          autoAlpha: 1,
          delay: 0.2,
          display: "inline-block",
          whiteSpace: "pre-line",
          duration: 1,
          ease: "back.inOut",
          stagger: 0.015,
          y: "0%"
        });
      };
      this.animateIn.fromTo(line, {
        autoAlpha: 0,
        y: "100%"
      }, {
        autoAlpha: 1,
        delay: 0.2 * index,
        duration: 1.5,
        onStart,
        ease: "expo.inOut",
        y: "0%"
      }, "start");
    });
    this.animateIn.call(_ => {
      (0,lodash__WEBPACK_IMPORTED_MODULE_3__.each)(window.ASSETS, image => {
        this.texture = new ogl__WEBPACK_IMPORTED_MODULE_6__.Texture(this.canvas.gl, {
          generateMipmaps: false
        });
        const media = new Image();
        media.crossOrigin = "anonymous";
        media.src = image;
        media.onload = _ => {
          this.texture.image = media;
          this.onAssetLoaded();
        };
        window.TEXTURES[image] = this.texture;
      });
    });
  }
  onAssetLoaded() {
    this.counter += 1;
    const percent = this.counter / window.ASSETS.length;
    this.elements.numberText.innerHTML = `${Math.round(percent * 100)}%`;
    if (percent === 1) {
      this.onComplete();
    }
  }
  onComplete() {
    // return new Promise(() => {
    //   this.animateOut = gsap.timeline({
    //     delay: 1
    //   })

    //   each(this.elements.spans, (line, index) => {
    //     const letters = line.querySelectorAll("span")

    //     const onStart = _ => {
    //       gsap.to(letters, {
    //         autoAlpha: 0,
    //         delay: 0.2,
    //         display: "inline-block",
    //         whiteSpace: "pre-line",
    //         duration: 1,
    //         ease: "back.inOut",
    //         stagger: 0.015,
    //         y: "-100%"
    //       })
    //     }

    //     this.animateOut.to(
    //       line,
    //       {
    //         autoAlpha: 0,
    //         delay: 0.2 * index,
    //         duration: 1.5,
    //         onStart,
    //         ease: "expo.inOut",
    //         y: "-100%"
    //       },
    //       "start"
    //     )
    //   })

    //   this.animateOut.to(
    //     this.elements.numberText,
    //     {
    //       autoAlpha: 0,
    //       duration: 1,
    //       ease: SMOOTH
    //     },
    //     "start"
    //   )

    //   this.animateOut.to(this.element, {
    //     autoAlpha: 0,
    //     duration: 1
    //   })

    //   this.animateOut.call(() => {
    //     this.emit("completed")
    //   })
    // })

    this.animateOut.to(this.element, {
      autoAlpha: 0,
      duration: 1
    });
    this.animateOut.call(() => {
      this.emit("completed");
    });
  }
  destroy() {
    this.element.parentNode.removeChild(this.element);
  }
});

/***/ }),

/***/ "./node_modules/ogl/src/core/Texture.js":
/*!**********************************************!*\
  !*** ./node_modules/ogl/src/core/Texture.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Texture: () => (/* binding */ Texture)
/* harmony export */ });
// TODO: delete texture
// TODO: use texSubImage2D for updates (video or when loaded)
// TODO: need? encoding = linearEncoding
// TODO: support non-compressed mipmaps uploads

const emptyPixel = new Uint8Array(4);
function isPowerOf2(value) {
  return (value & value - 1) === 0;
}
let ID = 1;
class Texture {
  constructor(gl, {
    image,
    target = gl.TEXTURE_2D,
    type = gl.UNSIGNED_BYTE,
    format = gl.RGBA,
    internalFormat = format,
    wrapS = gl.CLAMP_TO_EDGE,
    wrapT = gl.CLAMP_TO_EDGE,
    generateMipmaps = true,
    minFilter = generateMipmaps ? gl.NEAREST_MIPMAP_LINEAR : gl.LINEAR,
    magFilter = gl.LINEAR,
    premultiplyAlpha = false,
    unpackAlignment = 4,
    flipY = target == gl.TEXTURE_2D ? true : false,
    anisotropy = 0,
    level = 0,
    width,
    // used for RenderTargets or Data Textures
    height = width
  } = {}) {
    this.gl = gl;
    this.id = ID++;
    this.image = image;
    this.target = target;
    this.type = type;
    this.format = format;
    this.internalFormat = internalFormat;
    this.minFilter = minFilter;
    this.magFilter = magFilter;
    this.wrapS = wrapS;
    this.wrapT = wrapT;
    this.generateMipmaps = generateMipmaps;
    this.premultiplyAlpha = premultiplyAlpha;
    this.unpackAlignment = unpackAlignment;
    this.flipY = flipY;
    this.anisotropy = Math.min(anisotropy, this.gl.renderer.parameters.maxAnisotropy);
    this.level = level;
    this.width = width;
    this.height = height;
    this.texture = this.gl.createTexture();
    this.store = {
      image: null
    };

    // Alias for state store to avoid redundant calls for global state
    this.glState = this.gl.renderer.state;

    // State store to avoid redundant calls for per-texture state
    this.state = {};
    this.state.minFilter = this.gl.NEAREST_MIPMAP_LINEAR;
    this.state.magFilter = this.gl.LINEAR;
    this.state.wrapS = this.gl.REPEAT;
    this.state.wrapT = this.gl.REPEAT;
    this.state.anisotropy = 0;
  }
  bind() {
    // Already bound to active texture unit
    if (this.glState.textureUnits[this.glState.activeTextureUnit] === this.id) return;
    this.gl.bindTexture(this.target, this.texture);
    this.glState.textureUnits[this.glState.activeTextureUnit] = this.id;
  }
  update(textureUnit = 0) {
    const needsUpdate = !(this.image === this.store.image && !this.needsUpdate);

    // Make sure that texture is bound to its texture unit
    if (needsUpdate || this.glState.textureUnits[textureUnit] !== this.id) {
      // set active texture unit to perform texture functions
      this.gl.renderer.activeTexture(textureUnit);
      this.bind();
    }
    if (!needsUpdate) return;
    this.needsUpdate = false;
    if (this.flipY !== this.glState.flipY) {
      this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, this.flipY);
      this.glState.flipY = this.flipY;
    }
    if (this.premultiplyAlpha !== this.glState.premultiplyAlpha) {
      this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);
      this.glState.premultiplyAlpha = this.premultiplyAlpha;
    }
    if (this.unpackAlignment !== this.glState.unpackAlignment) {
      this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, this.unpackAlignment);
      this.glState.unpackAlignment = this.unpackAlignment;
    }
    if (this.minFilter !== this.state.minFilter) {
      this.gl.texParameteri(this.target, this.gl.TEXTURE_MIN_FILTER, this.minFilter);
      this.state.minFilter = this.minFilter;
    }
    if (this.magFilter !== this.state.magFilter) {
      this.gl.texParameteri(this.target, this.gl.TEXTURE_MAG_FILTER, this.magFilter);
      this.state.magFilter = this.magFilter;
    }
    if (this.wrapS !== this.state.wrapS) {
      this.gl.texParameteri(this.target, this.gl.TEXTURE_WRAP_S, this.wrapS);
      this.state.wrapS = this.wrapS;
    }
    if (this.wrapT !== this.state.wrapT) {
      this.gl.texParameteri(this.target, this.gl.TEXTURE_WRAP_T, this.wrapT);
      this.state.wrapT = this.wrapT;
    }
    if (this.anisotropy && this.anisotropy !== this.state.anisotropy) {
      this.gl.texParameterf(this.target, this.gl.renderer.getExtension('EXT_texture_filter_anisotropic').TEXTURE_MAX_ANISOTROPY_EXT, this.anisotropy);
      this.state.anisotropy = this.anisotropy;
    }
    if (this.image) {
      if (this.image.width) {
        this.width = this.image.width;
        this.height = this.image.height;
      }
      if (this.target === this.gl.TEXTURE_CUBE_MAP) {
        // For cube maps
        for (let i = 0; i < 6; i++) {
          this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, this.level, this.internalFormat, this.format, this.type, this.image[i]);
        }
      } else if (ArrayBuffer.isView(this.image)) {
        // Data texture
        this.gl.texImage2D(this.target, this.level, this.internalFormat, this.width, this.height, 0, this.format, this.type, this.image);
      } else if (this.image.isCompressedTexture) {
        // Compressed texture
        for (let level = 0; level < this.image.length; level++) {
          this.gl.compressedTexImage2D(this.target, level, this.internalFormat, this.image[level].width, this.image[level].height, 0, this.image[level].data);
        }
      } else {
        // Regular texture
        this.gl.texImage2D(this.target, this.level, this.internalFormat, this.format, this.type, this.image);
      }
      if (this.generateMipmaps) {
        // For WebGL1, if not a power of 2, turn off mips, set wrapping to clamp to edge and minFilter to linear
        if (!this.gl.renderer.isWebgl2 && (!isPowerOf2(this.image.width) || !isPowerOf2(this.image.height))) {
          this.generateMipmaps = false;
          this.wrapS = this.wrapT = this.gl.CLAMP_TO_EDGE;
          this.minFilter = this.gl.LINEAR;
        } else {
          this.gl.generateMipmap(this.target);
        }
      }

      // Callback for when data is pushed to GPU
      this.onUpdate && this.onUpdate();
    } else {
      if (this.target === this.gl.TEXTURE_CUBE_MAP) {
        // Upload empty pixel for each side while no image to avoid errors while image or video loading
        for (let i = 0; i < 6; i++) {
          this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, this.gl.RGBA, 1, 1, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, emptyPixel);
        }
      } else if (this.width) {
        // image intentionally left null for RenderTarget
        this.gl.texImage2D(this.target, this.level, this.internalFormat, this.width, this.height, 0, this.format, this.type, null);
      } else {
        // Upload empty pixel if no image to avoid errors while image or video loading
        this.gl.texImage2D(this.target, 0, this.gl.RGBA, 1, 1, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, emptyPixel);
      }
    }
    this.store.image = this.image;
  }
}

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("873a5318a5b046282a8c")
/******/ })();
/******/ 
/******/ }
);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQzlCLEVBQUUsQ0FBQzhCLElBQUksRUFBRSxJQUFJLENBQUM5QixFQUFFLENBQUM0QixhQUFhLEVBQUVSLFVBQVUsQ0FBQztNQUM5RztJQUNKO0lBQ0EsSUFBSSxDQUFDZ0MsS0FBSyxDQUFDdEQsS0FBSyxHQUFHLElBQUksQ0FBQ0EsS0FBSztFQUNqQztBQUNKOzs7Ozs7OztVQ3hOQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vZGUtdGVtcGxhdGUvLi9hcHAvY29tcG9uZW50cy9QcmVsb2FkZXIuanMiLCJ3ZWJwYWNrOi8vbm9kZS10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy9vZ2wvc3JjL2NvcmUvVGV4dHVyZS5qcyIsIndlYnBhY2s6Ly9ub2RlLXRlbXBsYXRlL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnc2FwIH0gZnJvbSBcImdzYXBcIlxuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gXCJvZ2xcIlxuaW1wb3J0IFByZWZpeCBmcm9tIFwicHJlZml4XCJcblxuaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiY2xhc3Nlcy9Db21wb25lbnRcIlxuaW1wb3J0IHsgc3BsaXQgfSBmcm9tIFwiLi4vdXRpbHMvdGV4dFwiXG5pbXBvcnQgeyBlYWNoIH0gZnJvbSBcImxvZGFzaFwiXG5pbXBvcnQgeyBTTU9PVEggfSBmcm9tIFwiLi4vdXRpbHMvZWFzaW5nc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoeyBjYW52YXMgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIGNsYXNzZXM6IHt9LFxuICAgICAgZWxlbWVudDogXCIucHJlbG9hZGVyXCIsXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICB0aXRsZTogXCIucHJlbG9hZGVyX190ZXh0XCIsXG4gICAgICAgIG51bWJlcjogXCIucHJlbG9hZGVyX19udW1iZXJcIixcbiAgICAgICAgbnVtYmVyVGV4dDogXCIucHJlbG9hZGVyX19udW1iZXJfX3RleHRcIlxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhc1xuXG4gICAgdGhpcy5jb3VudGVyID0gMFxuXG4gICAgdGhpcy50cmFuc2Zvcm1QcmVmaXggPSBQcmVmaXgoXCJ0cmFuc2Zvcm1cIilcblxuICAgIHdpbmRvdy5URVhUVVJFUyA9IHt9XG5cbiAgICB0aGlzLmVsZW1lbnRzLnNwYW5zID0gc3BsaXQoe1xuICAgICAgYXBwZW5kOiB0cnVlLFxuICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50cy50aXRsZSxcbiAgICAgIGV4cHJlc3Npb246IFwiPGJyPlwiXG4gICAgfSlcblxuICAgIGVhY2godGhpcy5lbGVtZW50cy5zcGFucywgZWxlbWVudCA9PiB7XG4gICAgICBzcGxpdCh7XG4gICAgICAgIGFwcGVuZDogZmFsc2UsXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGV4cHJlc3Npb246IFwiXCJcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIC8vIHRoaXMuY3JlYXRlTG9hZGVyKClcbiAgfVxuXG4gIGNyZWF0ZUxvYWRlcigpIHtcbiAgICB0aGlzLmFuaW1hdGVJbiA9IGdzYXAudGltZWxpbmUoKVxuXG4gICAgdGhpcy5hbmltYXRlSW4uc2V0KHRoaXMuZWxlbWVudHMudGl0bGUsIHtcbiAgICAgIGF1dG9BbHBoYTogMVxuICAgIH0pXG5cbiAgICBlYWNoKHRoaXMuZWxlbWVudHMuc3BhbnMsIChsaW5lLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgbGV0dGVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzcGFuXCIpXG5cbiAgICAgIGNvbnN0IG9uU3RhcnQgPSBfID0+IHtcbiAgICAgICAgZ3NhcC5mcm9tVG8oXG4gICAgICAgICAgbGV0dGVycyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhdXRvQWxwaGE6IDAsXG4gICAgICAgICAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiLFxuICAgICAgICAgICAgd2hpdGVTcGFjZTogXCJwcmUtbGluZVwiLFxuICAgICAgICAgICAgeTogXCIxMDAlXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGF1dG9BbHBoYTogMSxcbiAgICAgICAgICAgIGRlbGF5OiAwLjIsXG4gICAgICAgICAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiLFxuICAgICAgICAgICAgd2hpdGVTcGFjZTogXCJwcmUtbGluZVwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDEsXG4gICAgICAgICAgICBlYXNlOiBcImJhY2suaW5PdXRcIixcbiAgICAgICAgICAgIHN0YWdnZXI6IDAuMDE1LFxuICAgICAgICAgICAgeTogXCIwJVwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIHRoaXMuYW5pbWF0ZUluLmZyb21UbyhcbiAgICAgICAgbGluZSxcbiAgICAgICAge1xuICAgICAgICAgIGF1dG9BbHBoYTogMCxcbiAgICAgICAgICB5OiBcIjEwMCVcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgYXV0b0FscGhhOiAxLFxuICAgICAgICAgIGRlbGF5OiAwLjIgKiBpbmRleCxcbiAgICAgICAgICBkdXJhdGlvbjogMS41LFxuICAgICAgICAgIG9uU3RhcnQsXG4gICAgICAgICAgZWFzZTogXCJleHBvLmluT3V0XCIsXG4gICAgICAgICAgeTogXCIwJVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwic3RhcnRcIlxuICAgICAgKVxuICAgIH0pXG5cbiAgICB0aGlzLmFuaW1hdGVJbi5jYWxsKF8gPT4ge1xuICAgICAgZWFjaCh3aW5kb3cuQVNTRVRTLCBpbWFnZSA9PiB7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IG5ldyBUZXh0dXJlKHRoaXMuY2FudmFzLmdsLCB7XG4gICAgICAgICAgZ2VuZXJhdGVNaXBtYXBzOiBmYWxzZVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IG1lZGlhID0gbmV3IEltYWdlKClcblxuICAgICAgICBtZWRpYS5jcm9zc09yaWdpbiA9IFwiYW5vbnltb3VzXCJcbiAgICAgICAgbWVkaWEuc3JjID0gaW1hZ2VcbiAgICAgICAgbWVkaWEub25sb2FkID0gXyA9PiB7XG4gICAgICAgICAgdGhpcy50ZXh0dXJlLmltYWdlID0gbWVkaWFcblxuICAgICAgICAgIHRoaXMub25Bc3NldExvYWRlZCgpXG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuVEVYVFVSRVNbaW1hZ2VdID0gdGhpcy50ZXh0dXJlXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBvbkFzc2V0TG9hZGVkKCkge1xuICAgIHRoaXMuY291bnRlciArPSAxXG5cbiAgICBjb25zdCBwZXJjZW50ID0gdGhpcy5jb3VudGVyIC8gd2luZG93LkFTU0VUUy5sZW5ndGhcblxuICAgIHRoaXMuZWxlbWVudHMubnVtYmVyVGV4dC5pbm5lckhUTUwgPSBgJHtNYXRoLnJvdW5kKHBlcmNlbnQgKiAxMDApfSVgXG5cbiAgICBpZiAocGVyY2VudCA9PT0gMSkge1xuICAgICAgdGhpcy5vbkNvbXBsZXRlKClcbiAgICB9XG4gIH1cblxuICBvbkNvbXBsZXRlKCkge1xuICAgIC8vIHJldHVybiBuZXcgUHJvbWlzZSgoKSA9PiB7XG4gICAgLy8gICB0aGlzLmFuaW1hdGVPdXQgPSBnc2FwLnRpbWVsaW5lKHtcbiAgICAvLyAgICAgZGVsYXk6IDFcbiAgICAvLyAgIH0pXG5cbiAgICAvLyAgIGVhY2godGhpcy5lbGVtZW50cy5zcGFucywgKGxpbmUsIGluZGV4KSA9PiB7XG4gICAgLy8gICAgIGNvbnN0IGxldHRlcnMgPSBsaW5lLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzcGFuXCIpXG5cbiAgICAvLyAgICAgY29uc3Qgb25TdGFydCA9IF8gPT4ge1xuICAgIC8vICAgICAgIGdzYXAudG8obGV0dGVycywge1xuICAgIC8vICAgICAgICAgYXV0b0FscGhhOiAwLFxuICAgIC8vICAgICAgICAgZGVsYXk6IDAuMixcbiAgICAvLyAgICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgLy8gICAgICAgICB3aGl0ZVNwYWNlOiBcInByZS1saW5lXCIsXG4gICAgLy8gICAgICAgICBkdXJhdGlvbjogMSxcbiAgICAvLyAgICAgICAgIGVhc2U6IFwiYmFjay5pbk91dFwiLFxuICAgIC8vICAgICAgICAgc3RhZ2dlcjogMC4wMTUsXG4gICAgLy8gICAgICAgICB5OiBcIi0xMDAlXCJcbiAgICAvLyAgICAgICB9KVxuICAgIC8vICAgICB9XG5cbiAgICAvLyAgICAgdGhpcy5hbmltYXRlT3V0LnRvKFxuICAgIC8vICAgICAgIGxpbmUsXG4gICAgLy8gICAgICAge1xuICAgIC8vICAgICAgICAgYXV0b0FscGhhOiAwLFxuICAgIC8vICAgICAgICAgZGVsYXk6IDAuMiAqIGluZGV4LFxuICAgIC8vICAgICAgICAgZHVyYXRpb246IDEuNSxcbiAgICAvLyAgICAgICAgIG9uU3RhcnQsXG4gICAgLy8gICAgICAgICBlYXNlOiBcImV4cG8uaW5PdXRcIixcbiAgICAvLyAgICAgICAgIHk6IFwiLTEwMCVcIlxuICAgIC8vICAgICAgIH0sXG4gICAgLy8gICAgICAgXCJzdGFydFwiXG4gICAgLy8gICAgIClcbiAgICAvLyAgIH0pXG5cbiAgICAvLyAgIHRoaXMuYW5pbWF0ZU91dC50byhcbiAgICAvLyAgICAgdGhpcy5lbGVtZW50cy5udW1iZXJUZXh0LFxuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgYXV0b0FscGhhOiAwLFxuICAgIC8vICAgICAgIGR1cmF0aW9uOiAxLFxuICAgIC8vICAgICAgIGVhc2U6IFNNT09USFxuICAgIC8vICAgICB9LFxuICAgIC8vICAgICBcInN0YXJ0XCJcbiAgICAvLyAgIClcblxuICAgIC8vICAgdGhpcy5hbmltYXRlT3V0LnRvKHRoaXMuZWxlbWVudCwge1xuICAgIC8vICAgICBhdXRvQWxwaGE6IDAsXG4gICAgLy8gICAgIGR1cmF0aW9uOiAxXG4gICAgLy8gICB9KVxuXG4gICAgLy8gICB0aGlzLmFuaW1hdGVPdXQuY2FsbCgoKSA9PiB7XG4gICAgLy8gICAgIHRoaXMuZW1pdChcImNvbXBsZXRlZFwiKVxuICAgIC8vICAgfSlcbiAgICAvLyB9KVxuXG4gICAgdGhpcy5hbmltYXRlT3V0LnRvKHRoaXMuZWxlbWVudCwge1xuICAgICAgYXV0b0FscGhhOiAwLFxuICAgICAgZHVyYXRpb246IDFcbiAgICB9KVxuXG4gICAgdGhpcy5hbmltYXRlT3V0LmNhbGwoKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KFwiY29tcGxldGVkXCIpXG4gICAgfSlcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KVxuICB9XG59XG4iLCIvLyBUT0RPOiBkZWxldGUgdGV4dHVyZVxuLy8gVE9ETzogdXNlIHRleFN1YkltYWdlMkQgZm9yIHVwZGF0ZXMgKHZpZGVvIG9yIHdoZW4gbG9hZGVkKVxuLy8gVE9ETzogbmVlZD8gZW5jb2RpbmcgPSBsaW5lYXJFbmNvZGluZ1xuLy8gVE9ETzogc3VwcG9ydCBub24tY29tcHJlc3NlZCBtaXBtYXBzIHVwbG9hZHNcblxuY29uc3QgZW1wdHlQaXhlbCA9IG5ldyBVaW50OEFycmF5KDQpO1xuXG5mdW5jdGlvbiBpc1Bvd2VyT2YyKHZhbHVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSAmICh2YWx1ZSAtIDEpKSA9PT0gMDtcbn1cblxubGV0IElEID0gMTtcblxuZXhwb3J0IGNsYXNzIFRleHR1cmUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBnbCxcbiAgICAgICAge1xuICAgICAgICAgICAgaW1hZ2UsXG4gICAgICAgICAgICB0YXJnZXQgPSBnbC5URVhUVVJFXzJELFxuICAgICAgICAgICAgdHlwZSA9IGdsLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICBmb3JtYXQgPSBnbC5SR0JBLFxuICAgICAgICAgICAgaW50ZXJuYWxGb3JtYXQgPSBmb3JtYXQsXG4gICAgICAgICAgICB3cmFwUyA9IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgICAgICAgICB3cmFwVCA9IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgICAgICAgICBnZW5lcmF0ZU1pcG1hcHMgPSB0cnVlLFxuICAgICAgICAgICAgbWluRmlsdGVyID0gZ2VuZXJhdGVNaXBtYXBzID8gZ2wuTkVBUkVTVF9NSVBNQVBfTElORUFSIDogZ2wuTElORUFSLFxuICAgICAgICAgICAgbWFnRmlsdGVyID0gZ2wuTElORUFSLFxuICAgICAgICAgICAgcHJlbXVsdGlwbHlBbHBoYSA9IGZhbHNlLFxuICAgICAgICAgICAgdW5wYWNrQWxpZ25tZW50ID0gNCxcbiAgICAgICAgICAgIGZsaXBZID0gdGFyZ2V0ID09IGdsLlRFWFRVUkVfMkQgPyB0cnVlIDogZmFsc2UsXG4gICAgICAgICAgICBhbmlzb3Ryb3B5ID0gMCxcbiAgICAgICAgICAgIGxldmVsID0gMCxcbiAgICAgICAgICAgIHdpZHRoLCAvLyB1c2VkIGZvciBSZW5kZXJUYXJnZXRzIG9yIERhdGEgVGV4dHVyZXNcbiAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoLFxuICAgICAgICB9ID0ge31cbiAgICApIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmlkID0gSUQrKztcblxuICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDtcbiAgICAgICAgdGhpcy5pbnRlcm5hbEZvcm1hdCA9IGludGVybmFsRm9ybWF0O1xuICAgICAgICB0aGlzLm1pbkZpbHRlciA9IG1pbkZpbHRlcjtcbiAgICAgICAgdGhpcy5tYWdGaWx0ZXIgPSBtYWdGaWx0ZXI7XG4gICAgICAgIHRoaXMud3JhcFMgPSB3cmFwUztcbiAgICAgICAgdGhpcy53cmFwVCA9IHdyYXBUO1xuICAgICAgICB0aGlzLmdlbmVyYXRlTWlwbWFwcyA9IGdlbmVyYXRlTWlwbWFwcztcbiAgICAgICAgdGhpcy5wcmVtdWx0aXBseUFscGhhID0gcHJlbXVsdGlwbHlBbHBoYTtcbiAgICAgICAgdGhpcy51bnBhY2tBbGlnbm1lbnQgPSB1bnBhY2tBbGlnbm1lbnQ7XG4gICAgICAgIHRoaXMuZmxpcFkgPSBmbGlwWTtcbiAgICAgICAgdGhpcy5hbmlzb3Ryb3B5ID0gTWF0aC5taW4oYW5pc290cm9weSwgdGhpcy5nbC5yZW5kZXJlci5wYXJhbWV0ZXJzLm1heEFuaXNvdHJvcHkpO1xuICAgICAgICB0aGlzLmxldmVsID0gbGV2ZWw7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpO1xuXG4gICAgICAgIHRoaXMuc3RvcmUgPSB7XG4gICAgICAgICAgICBpbWFnZTogbnVsbCxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBBbGlhcyBmb3Igc3RhdGUgc3RvcmUgdG8gYXZvaWQgcmVkdW5kYW50IGNhbGxzIGZvciBnbG9iYWwgc3RhdGVcbiAgICAgICAgdGhpcy5nbFN0YXRlID0gdGhpcy5nbC5yZW5kZXJlci5zdGF0ZTtcblxuICAgICAgICAvLyBTdGF0ZSBzdG9yZSB0byBhdm9pZCByZWR1bmRhbnQgY2FsbHMgZm9yIHBlci10ZXh0dXJlIHN0YXRlXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgdGhpcy5zdGF0ZS5taW5GaWx0ZXIgPSB0aGlzLmdsLk5FQVJFU1RfTUlQTUFQX0xJTkVBUjtcbiAgICAgICAgdGhpcy5zdGF0ZS5tYWdGaWx0ZXIgPSB0aGlzLmdsLkxJTkVBUjtcbiAgICAgICAgdGhpcy5zdGF0ZS53cmFwUyA9IHRoaXMuZ2wuUkVQRUFUO1xuICAgICAgICB0aGlzLnN0YXRlLndyYXBUID0gdGhpcy5nbC5SRVBFQVQ7XG4gICAgICAgIHRoaXMuc3RhdGUuYW5pc290cm9weSA9IDA7XG4gICAgfVxuXG4gICAgYmluZCgpIHtcbiAgICAgICAgLy8gQWxyZWFkeSBib3VuZCB0byBhY3RpdmUgdGV4dHVyZSB1bml0XG4gICAgICAgIGlmICh0aGlzLmdsU3RhdGUudGV4dHVyZVVuaXRzW3RoaXMuZ2xTdGF0ZS5hY3RpdmVUZXh0dXJlVW5pdF0gPT09IHRoaXMuaWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLnRhcmdldCwgdGhpcy50ZXh0dXJlKTtcbiAgICAgICAgdGhpcy5nbFN0YXRlLnRleHR1cmVVbml0c1t0aGlzLmdsU3RhdGUuYWN0aXZlVGV4dHVyZVVuaXRdID0gdGhpcy5pZDtcbiAgICB9XG5cbiAgICB1cGRhdGUodGV4dHVyZVVuaXQgPSAwKSB7XG4gICAgICAgIGNvbnN0IG5lZWRzVXBkYXRlID0gISh0aGlzLmltYWdlID09PSB0aGlzLnN0b3JlLmltYWdlICYmICF0aGlzLm5lZWRzVXBkYXRlKTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0ZXh0dXJlIGlzIGJvdW5kIHRvIGl0cyB0ZXh0dXJlIHVuaXRcbiAgICAgICAgaWYgKG5lZWRzVXBkYXRlIHx8IHRoaXMuZ2xTdGF0ZS50ZXh0dXJlVW5pdHNbdGV4dHVyZVVuaXRdICE9PSB0aGlzLmlkKSB7XG4gICAgICAgICAgICAvLyBzZXQgYWN0aXZlIHRleHR1cmUgdW5pdCB0byBwZXJmb3JtIHRleHR1cmUgZnVuY3Rpb25zXG4gICAgICAgICAgICB0aGlzLmdsLnJlbmRlcmVyLmFjdGl2ZVRleHR1cmUodGV4dHVyZVVuaXQpO1xuICAgICAgICAgICAgdGhpcy5iaW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW5lZWRzVXBkYXRlKSByZXR1cm47XG4gICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5mbGlwWSAhPT0gdGhpcy5nbFN0YXRlLmZsaXBZKSB7XG4gICAgICAgICAgICB0aGlzLmdsLnBpeGVsU3RvcmVpKHRoaXMuZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgdGhpcy5mbGlwWSk7XG4gICAgICAgICAgICB0aGlzLmdsU3RhdGUuZmxpcFkgPSB0aGlzLmZsaXBZO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJlbXVsdGlwbHlBbHBoYSAhPT0gdGhpcy5nbFN0YXRlLnByZW11bHRpcGx5QWxwaGEpIHtcbiAgICAgICAgICAgIHRoaXMuZ2wucGl4ZWxTdG9yZWkodGhpcy5nbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIHRoaXMucHJlbXVsdGlwbHlBbHBoYSk7XG4gICAgICAgICAgICB0aGlzLmdsU3RhdGUucHJlbXVsdGlwbHlBbHBoYSA9IHRoaXMucHJlbXVsdGlwbHlBbHBoYTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnVucGFja0FsaWdubWVudCAhPT0gdGhpcy5nbFN0YXRlLnVucGFja0FsaWdubWVudCkge1xuICAgICAgICAgICAgdGhpcy5nbC5waXhlbFN0b3JlaSh0aGlzLmdsLlVOUEFDS19BTElHTk1FTlQsIHRoaXMudW5wYWNrQWxpZ25tZW50KTtcbiAgICAgICAgICAgIHRoaXMuZ2xTdGF0ZS51bnBhY2tBbGlnbm1lbnQgPSB0aGlzLnVucGFja0FsaWdubWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm1pbkZpbHRlciAhPT0gdGhpcy5zdGF0ZS5taW5GaWx0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaSh0aGlzLnRhcmdldCwgdGhpcy5nbC5URVhUVVJFX01JTl9GSUxURVIsIHRoaXMubWluRmlsdGVyKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWluRmlsdGVyID0gdGhpcy5taW5GaWx0ZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5tYWdGaWx0ZXIgIT09IHRoaXMuc3RhdGUubWFnRmlsdGVyKSB7XG4gICAgICAgICAgICB0aGlzLmdsLnRleFBhcmFtZXRlcmkodGhpcy50YXJnZXQsIHRoaXMuZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCB0aGlzLm1hZ0ZpbHRlcik7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1hZ0ZpbHRlciA9IHRoaXMubWFnRmlsdGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMud3JhcFMgIT09IHRoaXMuc3RhdGUud3JhcFMpIHtcbiAgICAgICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaSh0aGlzLnRhcmdldCwgdGhpcy5nbC5URVhUVVJFX1dSQVBfUywgdGhpcy53cmFwUyk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLndyYXBTID0gdGhpcy53cmFwUztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLndyYXBUICE9PSB0aGlzLnN0YXRlLndyYXBUKSB7XG4gICAgICAgICAgICB0aGlzLmdsLnRleFBhcmFtZXRlcmkodGhpcy50YXJnZXQsIHRoaXMuZ2wuVEVYVFVSRV9XUkFQX1QsIHRoaXMud3JhcFQpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS53cmFwVCA9IHRoaXMud3JhcFQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5hbmlzb3Ryb3B5ICYmIHRoaXMuYW5pc290cm9weSAhPT0gdGhpcy5zdGF0ZS5hbmlzb3Ryb3B5KSB7XG4gICAgICAgICAgICB0aGlzLmdsLnRleFBhcmFtZXRlcmYoXG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQsXG4gICAgICAgICAgICAgICAgdGhpcy5nbC5yZW5kZXJlci5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULFxuICAgICAgICAgICAgICAgIHRoaXMuYW5pc290cm9weVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYW5pc290cm9weSA9IHRoaXMuYW5pc290cm9weTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmltYWdlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbWFnZS53aWR0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmltYWdlLndpZHRoO1xuICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5pbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gdGhpcy5nbC5URVhUVVJFX0NVQkVfTUFQKSB7XG4gICAgICAgICAgICAgICAgLy8gRm9yIGN1YmUgbWFwc1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wudGV4SW1hZ2UyRChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVybmFsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlW2ldXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcodGhpcy5pbWFnZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBEYXRhIHRleHR1cmVcbiAgICAgICAgICAgICAgICB0aGlzLmdsLnRleEltYWdlMkQodGhpcy50YXJnZXQsIHRoaXMubGV2ZWwsIHRoaXMuaW50ZXJuYWxGb3JtYXQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAwLCB0aGlzLmZvcm1hdCwgdGhpcy50eXBlLCB0aGlzLmltYWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbWFnZS5pc0NvbXByZXNzZWRUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgLy8gQ29tcHJlc3NlZCB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbGV2ZWwgPSAwOyBsZXZlbCA8IHRoaXMuaW1hZ2UubGVuZ3RoOyBsZXZlbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wuY29tcHJlc3NlZFRleEltYWdlMkQoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcm5hbEZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VbbGV2ZWxdLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZVtsZXZlbF0uaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VbbGV2ZWxdLmRhdGFcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFJlZ3VsYXIgdGV4dHVyZVxuICAgICAgICAgICAgICAgIHRoaXMuZ2wudGV4SW1hZ2UyRCh0aGlzLnRhcmdldCwgdGhpcy5sZXZlbCwgdGhpcy5pbnRlcm5hbEZvcm1hdCwgdGhpcy5mb3JtYXQsIHRoaXMudHlwZSwgdGhpcy5pbWFnZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmdlbmVyYXRlTWlwbWFwcykge1xuICAgICAgICAgICAgICAgIC8vIEZvciBXZWJHTDEsIGlmIG5vdCBhIHBvd2VyIG9mIDIsIHR1cm4gb2ZmIG1pcHMsIHNldCB3cmFwcGluZyB0byBjbGFtcCB0byBlZGdlIGFuZCBtaW5GaWx0ZXIgdG8gbGluZWFyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdsLnJlbmRlcmVyLmlzV2ViZ2wyICYmICghaXNQb3dlck9mMih0aGlzLmltYWdlLndpZHRoKSB8fCAhaXNQb3dlck9mMih0aGlzLmltYWdlLmhlaWdodCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVNaXBtYXBzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JhcFMgPSB0aGlzLndyYXBUID0gdGhpcy5nbC5DTEFNUF9UT19FREdFO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1pbkZpbHRlciA9IHRoaXMuZ2wuTElORUFSO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wuZ2VuZXJhdGVNaXBtYXAodGhpcy50YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2FsbGJhY2sgZm9yIHdoZW4gZGF0YSBpcyBwdXNoZWQgdG8gR1BVXG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlICYmIHRoaXMub25VcGRhdGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gdGhpcy5nbC5URVhUVVJFX0NVQkVfTUFQKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBsb2FkIGVtcHR5IHBpeGVsIGZvciBlYWNoIHNpZGUgd2hpbGUgbm8gaW1hZ2UgdG8gYXZvaWQgZXJyb3JzIHdoaWxlIGltYWdlIG9yIHZpZGVvIGxvYWRpbmdcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdsLnRleEltYWdlMkQoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGksXG4gICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC5SR0JBLFxuICAgICAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC5SR0JBLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1wdHlQaXhlbFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy53aWR0aCkge1xuICAgICAgICAgICAgICAgIC8vIGltYWdlIGludGVudGlvbmFsbHkgbGVmdCBudWxsIGZvciBSZW5kZXJUYXJnZXRcbiAgICAgICAgICAgICAgICB0aGlzLmdsLnRleEltYWdlMkQodGhpcy50YXJnZXQsIHRoaXMubGV2ZWwsIHRoaXMuaW50ZXJuYWxGb3JtYXQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAwLCB0aGlzLmZvcm1hdCwgdGhpcy50eXBlLCBudWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVXBsb2FkIGVtcHR5IHBpeGVsIGlmIG5vIGltYWdlIHRvIGF2b2lkIGVycm9ycyB3aGlsZSBpbWFnZSBvciB2aWRlbyBsb2FkaW5nXG4gICAgICAgICAgICAgICAgdGhpcy5nbC50ZXhJbWFnZTJEKHRoaXMudGFyZ2V0LCAwLCB0aGlzLmdsLlJHQkEsIDEsIDEsIDAsIHRoaXMuZ2wuUkdCQSwgdGhpcy5nbC5VTlNJR05FRF9CWVRFLCBlbXB0eVBpeGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0b3JlLmltYWdlID0gdGhpcy5pbWFnZTtcbiAgICB9XG59XG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCI4NzNhNTMxOGE1YjA0NjI4MmE4Y1wiKSJdLCJuYW1lcyI6WyJnc2FwIiwiVGV4dHVyZSIsIlByZWZpeCIsIkNvbXBvbmVudCIsInNwbGl0IiwiZWFjaCIsIlNNT09USCIsImNvbnN0cnVjdG9yIiwiY2FudmFzIiwiY2xhc3NlcyIsImVsZW1lbnQiLCJlbGVtZW50cyIsInRpdGxlIiwibnVtYmVyIiwibnVtYmVyVGV4dCIsImNvdW50ZXIiLCJ0cmFuc2Zvcm1QcmVmaXgiLCJ3aW5kb3ciLCJURVhUVVJFUyIsInNwYW5zIiwiYXBwZW5kIiwiZXhwcmVzc2lvbiIsImNyZWF0ZUxvYWRlciIsImFuaW1hdGVJbiIsInRpbWVsaW5lIiwic2V0IiwiYXV0b0FscGhhIiwibGluZSIsImluZGV4IiwibGV0dGVycyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIm9uU3RhcnQiLCJfIiwiZnJvbVRvIiwiZGlzcGxheSIsIndoaXRlU3BhY2UiLCJ5IiwiZGVsYXkiLCJkdXJhdGlvbiIsImVhc2UiLCJzdGFnZ2VyIiwiY2FsbCIsIkFTU0VUUyIsImltYWdlIiwidGV4dHVyZSIsImdsIiwiZ2VuZXJhdGVNaXBtYXBzIiwibWVkaWEiLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwic3JjIiwib25sb2FkIiwib25Bc3NldExvYWRlZCIsInBlcmNlbnQiLCJsZW5ndGgiLCJpbm5lckhUTUwiLCJNYXRoIiwicm91bmQiLCJvbkNvbXBsZXRlIiwiYW5pbWF0ZU91dCIsInRvIiwiZW1pdCIsImRlc3Ryb3kiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJlbXB0eVBpeGVsIiwiVWludDhBcnJheSIsImlzUG93ZXJPZjIiLCJ2YWx1ZSIsIklEIiwidGFyZ2V0IiwiVEVYVFVSRV8yRCIsInR5cGUiLCJVTlNJR05FRF9CWVRFIiwiZm9ybWF0IiwiUkdCQSIsImludGVybmFsRm9ybWF0Iiwid3JhcFMiLCJDTEFNUF9UT19FREdFIiwid3JhcFQiLCJtaW5GaWx0ZXIiLCJORUFSRVNUX01JUE1BUF9MSU5FQVIiLCJMSU5FQVIiLCJtYWdGaWx0ZXIiLCJwcmVtdWx0aXBseUFscGhhIiwidW5wYWNrQWxpZ25tZW50IiwiZmxpcFkiLCJhbmlzb3Ryb3B5IiwibGV2ZWwiLCJ3aWR0aCIsImhlaWdodCIsImlkIiwibWluIiwicmVuZGVyZXIiLCJwYXJhbWV0ZXJzIiwibWF4QW5pc290cm9weSIsImNyZWF0ZVRleHR1cmUiLCJzdG9yZSIsImdsU3RhdGUiLCJzdGF0ZSIsIlJFUEVBVCIsImJpbmQiLCJ0ZXh0dXJlVW5pdHMiLCJhY3RpdmVUZXh0dXJlVW5pdCIsImJpbmRUZXh0dXJlIiwidXBkYXRlIiwidGV4dHVyZVVuaXQiLCJuZWVkc1VwZGF0ZSIsImFjdGl2ZVRleHR1cmUiLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wiLCJVTlBBQ0tfQUxJR05NRU5UIiwidGV4UGFyYW1ldGVyaSIsIlRFWFRVUkVfTUlOX0ZJTFRFUiIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsIlRFWFRVUkVfV1JBUF9TIiwiVEVYVFVSRV9XUkFQX1QiLCJ0ZXhQYXJhbWV0ZXJmIiwiZ2V0RXh0ZW5zaW9uIiwiVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJURVhUVVJFX0NVQkVfTUFQIiwiaSIsInRleEltYWdlMkQiLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1giLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImlzQ29tcHJlc3NlZFRleHR1cmUiLCJjb21wcmVzc2VkVGV4SW1hZ2UyRCIsImRhdGEiLCJpc1dlYmdsMiIsImdlbmVyYXRlTWlwbWFwIiwib25VcGRhdGUiXSwic291cmNlUm9vdCI6IiJ9