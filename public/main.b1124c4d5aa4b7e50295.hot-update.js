"use strict";
self["webpackHotUpdatenode_template"]("main",{

/***/ "./app/components/Canvas/index.js":
/*!****************************************!*\
  !*** ./app/components/Canvas/index.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var ogl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ogl */ "./node_modules/ogl/src/core/Renderer.js");
/* harmony import */ var ogl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ogl */ "./node_modules/ogl/src/core/Camera.js");
/* harmony import */ var ogl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ogl */ "./node_modules/ogl/src/core/Transform.js");
/* harmony import */ var ogl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ogl */ "./node_modules/ogl/src/extras/Box.js");
/* harmony import */ var ogl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ogl */ "./node_modules/ogl/src/core/Program.js");
/* harmony import */ var ogl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ogl */ "./node_modules/ogl/src/core/Mesh.js");
/* harmony import */ var _Home__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Home */ "./app/components/Canvas/Home/index.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class {
  constructor({
    url
  }) {
    this.url = url;
    this.x = {
      start: 0,
      distance: 0,
      end: 0
    };
    this.y = {
      start: 0,
      distance: 0,
      end: 0
    };
    this.renderer = new ogl__WEBPACK_IMPORTED_MODULE_1__.Renderer({
      alpha: true,
      antialias: true,
      dpr: Math.min(window.devicePixelRatio, 2)
    });
    this.gl = this.renderer.gl;
    this.gl.clearColor(0, 0, 0, 0);
    document.body.appendChild(this.gl.canvas);
    this.createCamera();
    this.createScene();
    this.createCube();
    this.onResize();
  }
  createCamera() {
    this.camera = new ogl__WEBPACK_IMPORTED_MODULE_2__.Camera(this.gl);
    this.camera.fov = 45;
    this.camera.position.z = 5;
  }
  createScene() {
    this.scene = new ogl__WEBPACK_IMPORTED_MODULE_3__.Transform();
  }
  createHome() {
    this.home = new _Home__WEBPACK_IMPORTED_MODULE_0__["default"]({
      gl: this.gl,
      scene: this.scene,
      sizes: this.viewport,
      renderer: this.renderer,
      camera: this.camera
    });
  }
  createCube() {
    this.geometry = new ogl__WEBPACK_IMPORTED_MODULE_4__.Box(this.gl);
    this.program = new ogl__WEBPACK_IMPORTED_MODULE_5__.Program(gl, {
      vertex: /* glsl */`
            attribute vec3 position;

            uniform mat4 modelViewMatrix;
            uniform mat4 projectionMatrix;

            void main() {
                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
            }
        `,
      fragment: /* glsl */`
            void main() {
                gl_FragColor = vec4(1.0);
            }
        `
    });
    this.mesh = new ogl__WEBPACK_IMPORTED_MODULE_6__.Mesh(this.gl, this.program);
    this.mesh.setParent(this.scene);
  }
  destroyHome() {
    if (!this.home) return;
    this.home.destroy();
    this.home = null;
  }
  onPreloaded() {
    this.onChangeEnd(this.url);
  }
  onChangeEnd(url) {
    console.log(url, "url");
    // if (url === "home") {
    //   this.createHome()
    // } else {
    //   this.destroyHome()
    // }

    this.url = url;
  }

  /**
   * Change.
   */
  onChange(url) {}

  /**
   * Resize.
   */
  onResize() {
    this.screen = {
      height: window.innerHeight,
      width: window.innerWidth
    };
    this.renderer.setSize(this.screen.width, this.screen.height);
    this.camera.perspective({
      aspect: this.gl.canvas.width / this.gl.canvas.height
    });
    const fov = this.camera.fov * (Math.PI / 180);
    const height = 2 * Math.tan(fov / 2) * this.camera.position.z;
    const width = height * this.camera.aspect;
    this.viewport = {
      height,
      width
    };
    const values = {
      screen: this.screen,
      viewport: this.viewport
    };
  }
  onTouchDown(event) {
    this.isDown = true;
    this.x.start = event.touches ? event.touches[0].clientX : event.clientX;
    this.y.start = event.touches ? event.touches[0].clientY : event.clientY;
    const values = {
      x: this.x.start,
      y: this.y.start
    };
    if (this.home) {
      this.home.onTouchDown(values);
    }
  }
  onTouchMove(event) {
    if (!this.isDown) return;
    const x = event.touches ? event.touches[0].clientX : event.clientX;
    const y = event.touches ? event.touches[0].clientY : event.clientY;
    this.x.end = x;
    this.y.end = y;
    const values = {
      x: this.x,
      y: this.y
    };
    if (this.home) {
      this.home.onTouchMove(values);
    }
  }
  onTouchUp(event) {
    this.isDown = false;
    const x = event.changedTouches ? event.changedTouches[0].clientX : event.clientX;
    const y = event.changedTouches ? event.changedTouches[0].clientY : event.clientY;
    this.x.end = x;
    this.y.end = y;
    const values = {
      x: this.x,
      y: this.y
    };
    if (this.home) {
      this.home.onTouchUp(values);
    }
  }

  /**
   * Update.
   */
  update(application) {
    if (!application) return;
    if (this.home) {
      this.home.update();
    }
    this.renderer.render({
      scene: this.scene,
      camera: this.camera
    });
  }
});

/***/ }),

/***/ "./node_modules/ogl/src/extras/Box.js":
/*!********************************************!*\
  !*** ./node_modules/ogl/src/extras/Box.js ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Box: () => (/* binding */ Box)
/* harmony export */ });
/* harmony import */ var _core_Geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Geometry.js */ "./node_modules/ogl/src/core/Geometry.js");
/* harmony import */ var _Plane_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Plane.js */ "./node_modules/ogl/src/extras/Plane.js");


class Box extends _core_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.Geometry {
  constructor(gl, {
    width = 1,
    height = 1,
    depth = 1,
    widthSegments = 1,
    heightSegments = 1,
    depthSegments = 1,
    attributes = {}
  } = {}) {
    const wSegs = widthSegments;
    const hSegs = heightSegments;
    const dSegs = depthSegments;
    const num = (wSegs + 1) * (hSegs + 1) * 2 + (wSegs + 1) * (dSegs + 1) * 2 + (hSegs + 1) * (dSegs + 1) * 2;
    const numIndices = (wSegs * hSegs * 2 + wSegs * dSegs * 2 + hSegs * dSegs * 2) * 6;
    const position = new Float32Array(num * 3);
    const normal = new Float32Array(num * 3);
    const uv = new Float32Array(num * 2);
    const index = num > 65536 ? new Uint32Array(numIndices) : new Uint16Array(numIndices);
    let i = 0;
    let ii = 0;

    // left, right
    _Plane_js__WEBPACK_IMPORTED_MODULE_1__.Plane.buildPlane(position, normal, uv, index, depth, height, width, dSegs, hSegs, 2, 1, 0, -1, -1, i, ii);
    i += (dSegs + 1) * (hSegs + 1);
    ii += dSegs * hSegs;
    _Plane_js__WEBPACK_IMPORTED_MODULE_1__.Plane.buildPlane(position, normal, uv, index, depth, height, -width, dSegs, hSegs, 2, 1, 0, 1, -1, i, ii);
    i += (dSegs + 1) * (hSegs + 1);
    ii += dSegs * hSegs;

    // top, bottom
    _Plane_js__WEBPACK_IMPORTED_MODULE_1__.Plane.buildPlane(position, normal, uv, index, width, depth, height, dSegs, wSegs, 0, 2, 1, 1, 1, i, ii);
    i += (wSegs + 1) * (dSegs + 1);
    ii += wSegs * dSegs;
    _Plane_js__WEBPACK_IMPORTED_MODULE_1__.Plane.buildPlane(position, normal, uv, index, width, depth, -height, dSegs, wSegs, 0, 2, 1, 1, -1, i, ii);
    i += (wSegs + 1) * (dSegs + 1);
    ii += wSegs * dSegs;

    // front, back
    _Plane_js__WEBPACK_IMPORTED_MODULE_1__.Plane.buildPlane(position, normal, uv, index, width, height, -depth, wSegs, hSegs, 0, 1, 2, -1, -1, i, ii);
    i += (wSegs + 1) * (hSegs + 1);
    ii += wSegs * hSegs;
    _Plane_js__WEBPACK_IMPORTED_MODULE_1__.Plane.buildPlane(position, normal, uv, index, width, height, depth, wSegs, hSegs, 0, 1, 2, 1, -1, i, ii);
    Object.assign(attributes, {
      position: {
        size: 3,
        data: position
      },
      normal: {
        size: 3,
        data: normal
      },
      uv: {
        size: 2,
        data: uv
      },
      index: {
        data: index
      }
    });
    super(gl, attributes);
  }
}

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("c92ccf892f4fb2032779")
/******/ })();
/******/ 
/******/ }
);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxDQUFDckUsRUFBRSxFQUFFNEQsVUFBVSxDQUFDO0VBQ3pCO0FBQ0o7Ozs7Ozs7O1VDdERBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9kZS10ZW1wbGF0ZS8uL2FwcC9jb21wb25lbnRzL0NhbnZhcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9ub2RlLXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzL29nbC9zcmMvZXh0cmFzL0JveC5qcyIsIndlYnBhY2s6Ly9ub2RlLXRlbXBsYXRlL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3gsIENhbWVyYSwgUGxhbmUsIFJlbmRlcmVyLCBUcmFuc2Zvcm0sIFByb2dyYW0sIE1lc2ggfSBmcm9tIFwib2dsXCJcbmltcG9ydCBIb21lIGZyb20gXCIuL0hvbWVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHsgdXJsIH0pIHtcbiAgICB0aGlzLnVybCA9IHVybFxuXG4gICAgdGhpcy54ID0ge1xuICAgICAgc3RhcnQ6IDAsXG4gICAgICBkaXN0YW5jZTogMCxcbiAgICAgIGVuZDogMFxuICAgIH1cblxuICAgIHRoaXMueSA9IHtcbiAgICAgIHN0YXJ0OiAwLFxuICAgICAgZGlzdGFuY2U6IDAsXG4gICAgICBlbmQ6IDBcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKHtcbiAgICAgIGFscGhhOiB0cnVlLFxuICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgZHByOiBNYXRoLm1pbih3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgMilcbiAgICB9KVxuXG4gICAgdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2xcbiAgICB0aGlzLmdsLmNsZWFyQ29sb3IoMCwgMCwgMCwgMClcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5nbC5jYW52YXMpXG5cbiAgICB0aGlzLmNyZWF0ZUNhbWVyYSgpXG4gICAgdGhpcy5jcmVhdGVTY2VuZSgpXG4gICAgdGhpcy5jcmVhdGVDdWJlKClcblxuICAgIHRoaXMub25SZXNpemUoKVxuICB9XG5cbiAgY3JlYXRlQ2FtZXJhKCkge1xuICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSh0aGlzLmdsKVxuICAgIHRoaXMuY2FtZXJhLmZvdiA9IDQ1XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDVcbiAgfVxuXG4gIGNyZWF0ZVNjZW5lKCkge1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVHJhbnNmb3JtKClcbiAgfVxuXG4gIGNyZWF0ZUhvbWUoKSB7XG4gICAgdGhpcy5ob21lID0gbmV3IEhvbWUoe1xuICAgICAgZ2w6IHRoaXMuZ2wsXG4gICAgICBzY2VuZTogdGhpcy5zY2VuZSxcbiAgICAgIHNpemVzOiB0aGlzLnZpZXdwb3J0LFxuICAgICAgcmVuZGVyZXI6IHRoaXMucmVuZGVyZXIsXG4gICAgICBjYW1lcmE6IHRoaXMuY2FtZXJhXG4gICAgfSlcbiAgfVxuXG4gIGNyZWF0ZUN1YmUoKSB7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBCb3godGhpcy5nbClcbiAgICB0aGlzLnByb2dyYW0gPSBuZXcgUHJvZ3JhbShnbCwge1xuICAgICAgdmVydGV4OiAvKiBnbHNsICovIGBcbiAgICAgICAgICAgIGF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uO1xuXG4gICAgICAgICAgICB1bmlmb3JtIG1hdDQgbW9kZWxWaWV3TWF0cml4O1xuICAgICAgICAgICAgdW5pZm9ybSBtYXQ0IHByb2plY3Rpb25NYXRyaXg7XG5cbiAgICAgICAgICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgICAgICAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KHBvc2l0aW9uLCAxLjApO1xuICAgICAgICAgICAgfVxuICAgICAgICBgLFxuICAgICAgZnJhZ21lbnQ6IC8qIGdsc2wgKi8gYFxuICAgICAgICAgICAgdm9pZCBtYWluKCkge1xuICAgICAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIH0pXG5cbiAgICB0aGlzLm1lc2ggPSBuZXcgTWVzaCh0aGlzLmdsLCB0aGlzLnByb2dyYW0pXG4gICAgdGhpcy5tZXNoLnNldFBhcmVudCh0aGlzLnNjZW5lKVxuICB9XG5cbiAgZGVzdHJveUhvbWUoKSB7XG4gICAgaWYgKCF0aGlzLmhvbWUpIHJldHVyblxuICAgIHRoaXMuaG9tZS5kZXN0cm95KClcbiAgICB0aGlzLmhvbWUgPSBudWxsXG4gIH1cblxuICBvblByZWxvYWRlZCgpIHtcbiAgICB0aGlzLm9uQ2hhbmdlRW5kKHRoaXMudXJsKVxuICB9XG5cbiAgb25DaGFuZ2VFbmQodXJsKSB7XG4gICAgY29uc29sZS5sb2codXJsLCBcInVybFwiKVxuICAgIC8vIGlmICh1cmwgPT09IFwiaG9tZVwiKSB7XG4gICAgLy8gICB0aGlzLmNyZWF0ZUhvbWUoKVxuICAgIC8vIH0gZWxzZSB7XG4gICAgLy8gICB0aGlzLmRlc3Ryb3lIb21lKClcbiAgICAvLyB9XG5cbiAgICB0aGlzLnVybCA9IHVybFxuICB9XG5cbiAgLyoqXG4gICAqIENoYW5nZS5cbiAgICovXG4gIG9uQ2hhbmdlKHVybCkge31cblxuICAvKipcbiAgICogUmVzaXplLlxuICAgKi9cbiAgb25SZXNpemUoKSB7XG4gICAgdGhpcy5zY3JlZW4gPSB7XG4gICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aFxuICAgIH1cblxuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLnNjcmVlbi53aWR0aCwgdGhpcy5zY3JlZW4uaGVpZ2h0KVxuXG4gICAgdGhpcy5jYW1lcmEucGVyc3BlY3RpdmUoe1xuICAgICAgYXNwZWN0OiB0aGlzLmdsLmNhbnZhcy53aWR0aCAvIHRoaXMuZ2wuY2FudmFzLmhlaWdodFxuICAgIH0pXG5cbiAgICBjb25zdCBmb3YgPSB0aGlzLmNhbWVyYS5mb3YgKiAoTWF0aC5QSSAvIDE4MClcbiAgICBjb25zdCBoZWlnaHQgPSAyICogTWF0aC50YW4oZm92IC8gMikgKiB0aGlzLmNhbWVyYS5wb3NpdGlvbi56XG4gICAgY29uc3Qgd2lkdGggPSBoZWlnaHQgKiB0aGlzLmNhbWVyYS5hc3BlY3RcblxuICAgIHRoaXMudmlld3BvcnQgPSB7XG4gICAgICBoZWlnaHQsXG4gICAgICB3aWR0aFxuICAgIH1cblxuICAgIGNvbnN0IHZhbHVlcyA9IHtcbiAgICAgIHNjcmVlbjogdGhpcy5zY3JlZW4sXG4gICAgICB2aWV3cG9ydDogdGhpcy52aWV3cG9ydFxuICAgIH1cbiAgfVxuXG4gIG9uVG91Y2hEb3duKGV2ZW50KSB7XG4gICAgdGhpcy5pc0Rvd24gPSB0cnVlXG5cbiAgICB0aGlzLnguc3RhcnQgPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZlbnQuY2xpZW50WFxuICAgIHRoaXMueS5zdGFydCA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdLmNsaWVudFkgOiBldmVudC5jbGllbnRZXG5cbiAgICBjb25zdCB2YWx1ZXMgPSB7XG4gICAgICB4OiB0aGlzLnguc3RhcnQsXG4gICAgICB5OiB0aGlzLnkuc3RhcnRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob21lKSB7XG4gICAgICB0aGlzLmhvbWUub25Ub3VjaERvd24odmFsdWVzKVxuICAgIH1cbiAgfVxuXG4gIG9uVG91Y2hNb3ZlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmlzRG93bikgcmV0dXJuXG5cbiAgICBjb25zdCB4ID0gZXZlbnQudG91Y2hlcyA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2ZW50LmNsaWVudFhcbiAgICBjb25zdCB5ID0gZXZlbnQudG91Y2hlcyA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2ZW50LmNsaWVudFlcblxuICAgIHRoaXMueC5lbmQgPSB4XG4gICAgdGhpcy55LmVuZCA9IHlcblxuICAgIGNvbnN0IHZhbHVlcyA9IHtcbiAgICAgIHg6IHRoaXMueCxcbiAgICAgIHk6IHRoaXMueVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvbWUpIHtcbiAgICAgIHRoaXMuaG9tZS5vblRvdWNoTW92ZSh2YWx1ZXMpXG4gICAgfVxuICB9XG5cbiAgb25Ub3VjaFVwKGV2ZW50KSB7XG4gICAgdGhpcy5pc0Rvd24gPSBmYWxzZVxuXG4gICAgY29uc3QgeCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzID8gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCA6IGV2ZW50LmNsaWVudFhcbiAgICBjb25zdCB5ID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIDogZXZlbnQuY2xpZW50WVxuXG4gICAgdGhpcy54LmVuZCA9IHhcbiAgICB0aGlzLnkuZW5kID0geVxuXG4gICAgY29uc3QgdmFsdWVzID0ge1xuICAgICAgeDogdGhpcy54LFxuICAgICAgeTogdGhpcy55XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9tZSkge1xuICAgICAgdGhpcy5ob21lLm9uVG91Y2hVcCh2YWx1ZXMpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZS5cbiAgICovXG4gIHVwZGF0ZShhcHBsaWNhdGlvbikge1xuICAgIGlmICghYXBwbGljYXRpb24pIHJldHVyblxuXG4gICAgaWYgKHRoaXMuaG9tZSkge1xuICAgICAgdGhpcy5ob21lLnVwZGF0ZSgpXG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIoe1xuICAgICAgc2NlbmU6IHRoaXMuc2NlbmUsXG4gICAgICBjYW1lcmE6IHRoaXMuY2FtZXJhXG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuLi9jb3JlL0dlb21ldHJ5LmpzJztcbmltcG9ydCB7IFBsYW5lIH0gZnJvbSAnLi9QbGFuZS5qcyc7XG5cbmV4cG9ydCBjbGFzcyBCb3ggZXh0ZW5kcyBHZW9tZXRyeSB7XG4gICAgY29uc3RydWN0b3IoZ2wsIHsgd2lkdGggPSAxLCBoZWlnaHQgPSAxLCBkZXB0aCA9IDEsIHdpZHRoU2VnbWVudHMgPSAxLCBoZWlnaHRTZWdtZW50cyA9IDEsIGRlcHRoU2VnbWVudHMgPSAxLCBhdHRyaWJ1dGVzID0ge30gfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHdTZWdzID0gd2lkdGhTZWdtZW50cztcbiAgICAgICAgY29uc3QgaFNlZ3MgPSBoZWlnaHRTZWdtZW50cztcbiAgICAgICAgY29uc3QgZFNlZ3MgPSBkZXB0aFNlZ21lbnRzO1xuXG4gICAgICAgIGNvbnN0IG51bSA9ICh3U2VncyArIDEpICogKGhTZWdzICsgMSkgKiAyICsgKHdTZWdzICsgMSkgKiAoZFNlZ3MgKyAxKSAqIDIgKyAoaFNlZ3MgKyAxKSAqIChkU2VncyArIDEpICogMjtcbiAgICAgICAgY29uc3QgbnVtSW5kaWNlcyA9ICh3U2VncyAqIGhTZWdzICogMiArIHdTZWdzICogZFNlZ3MgKiAyICsgaFNlZ3MgKiBkU2VncyAqIDIpICogNjtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkobnVtICogMyk7XG4gICAgICAgIGNvbnN0IG5vcm1hbCA9IG5ldyBGbG9hdDMyQXJyYXkobnVtICogMyk7XG4gICAgICAgIGNvbnN0IHV2ID0gbmV3IEZsb2F0MzJBcnJheShudW0gKiAyKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBudW0gPiA2NTUzNiA/IG5ldyBVaW50MzJBcnJheShudW1JbmRpY2VzKSA6IG5ldyBVaW50MTZBcnJheShudW1JbmRpY2VzKTtcblxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGxldCBpaSA9IDA7XG5cbiAgICAgICAgLy8gbGVmdCwgcmlnaHRcbiAgICAgICAgUGxhbmUuYnVpbGRQbGFuZShwb3NpdGlvbiwgbm9ybWFsLCB1diwgaW5kZXgsIGRlcHRoLCBoZWlnaHQsIHdpZHRoLCBkU2VncywgaFNlZ3MsIDIsIDEsIDAsIC0xLCAtMSwgaSwgaWkpO1xuICAgICAgICBpICs9IChkU2VncyArIDEpICogKGhTZWdzICsgMSk7XG4gICAgICAgIGlpICs9IGRTZWdzICogaFNlZ3M7XG5cbiAgICAgICAgUGxhbmUuYnVpbGRQbGFuZShwb3NpdGlvbiwgbm9ybWFsLCB1diwgaW5kZXgsIGRlcHRoLCBoZWlnaHQsIC13aWR0aCwgZFNlZ3MsIGhTZWdzLCAyLCAxLCAwLCAxLCAtMSwgaSwgaWkpO1xuICAgICAgICBpICs9IChkU2VncyArIDEpICogKGhTZWdzICsgMSk7XG4gICAgICAgIGlpICs9IGRTZWdzICogaFNlZ3M7XG5cbiAgICAgICAgLy8gdG9wLCBib3R0b21cbiAgICAgICAgUGxhbmUuYnVpbGRQbGFuZShwb3NpdGlvbiwgbm9ybWFsLCB1diwgaW5kZXgsIHdpZHRoLCBkZXB0aCwgaGVpZ2h0LCBkU2Vncywgd1NlZ3MsIDAsIDIsIDEsIDEsIDEsIGksIGlpKTtcbiAgICAgICAgaSArPSAod1NlZ3MgKyAxKSAqIChkU2VncyArIDEpO1xuICAgICAgICBpaSArPSB3U2VncyAqIGRTZWdzO1xuXG4gICAgICAgIFBsYW5lLmJ1aWxkUGxhbmUocG9zaXRpb24sIG5vcm1hbCwgdXYsIGluZGV4LCB3aWR0aCwgZGVwdGgsIC1oZWlnaHQsIGRTZWdzLCB3U2VncywgMCwgMiwgMSwgMSwgLTEsIGksIGlpKTtcbiAgICAgICAgaSArPSAod1NlZ3MgKyAxKSAqIChkU2VncyArIDEpO1xuICAgICAgICBpaSArPSB3U2VncyAqIGRTZWdzO1xuXG4gICAgICAgIC8vIGZyb250LCBiYWNrXG4gICAgICAgIFBsYW5lLmJ1aWxkUGxhbmUocG9zaXRpb24sIG5vcm1hbCwgdXYsIGluZGV4LCB3aWR0aCwgaGVpZ2h0LCAtZGVwdGgsIHdTZWdzLCBoU2VncywgMCwgMSwgMiwgLTEsIC0xLCBpLCBpaSk7XG4gICAgICAgIGkgKz0gKHdTZWdzICsgMSkgKiAoaFNlZ3MgKyAxKTtcbiAgICAgICAgaWkgKz0gd1NlZ3MgKiBoU2VncztcblxuICAgICAgICBQbGFuZS5idWlsZFBsYW5lKHBvc2l0aW9uLCBub3JtYWwsIHV2LCBpbmRleCwgd2lkdGgsIGhlaWdodCwgZGVwdGgsIHdTZWdzLCBoU2VncywgMCwgMSwgMiwgMSwgLTEsIGksIGlpKTtcblxuICAgICAgICBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMsIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7IHNpemU6IDMsIGRhdGE6IHBvc2l0aW9uIH0sXG4gICAgICAgICAgICBub3JtYWw6IHsgc2l6ZTogMywgZGF0YTogbm9ybWFsIH0sXG4gICAgICAgICAgICB1djogeyBzaXplOiAyLCBkYXRhOiB1diB9LFxuICAgICAgICAgICAgaW5kZXg6IHsgZGF0YTogaW5kZXggfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3VwZXIoZ2wsIGF0dHJpYnV0ZXMpO1xuICAgIH1cbn1cbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcImM5MmNjZjg5MmY0ZmIyMDMyNzc5XCIpIl0sIm5hbWVzIjpbIkJveCIsIkNhbWVyYSIsIlBsYW5lIiwiUmVuZGVyZXIiLCJUcmFuc2Zvcm0iLCJQcm9ncmFtIiwiTWVzaCIsIkhvbWUiLCJjb25zdHJ1Y3RvciIsInVybCIsIngiLCJzdGFydCIsImRpc3RhbmNlIiwiZW5kIiwieSIsInJlbmRlcmVyIiwiYWxwaGEiLCJhbnRpYWxpYXMiLCJkcHIiLCJNYXRoIiwibWluIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsImdsIiwiY2xlYXJDb2xvciIsImRvY3VtZW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2FudmFzIiwiY3JlYXRlQ2FtZXJhIiwiY3JlYXRlU2NlbmUiLCJjcmVhdGVDdWJlIiwib25SZXNpemUiLCJjYW1lcmEiLCJmb3YiLCJwb3NpdGlvbiIsInoiLCJzY2VuZSIsImNyZWF0ZUhvbWUiLCJob21lIiwic2l6ZXMiLCJ2aWV3cG9ydCIsImdlb21ldHJ5IiwicHJvZ3JhbSIsInZlcnRleCIsImZyYWdtZW50IiwibWVzaCIsInNldFBhcmVudCIsImRlc3Ryb3lIb21lIiwiZGVzdHJveSIsIm9uUHJlbG9hZGVkIiwib25DaGFuZ2VFbmQiLCJjb25zb2xlIiwibG9nIiwib25DaGFuZ2UiLCJzY3JlZW4iLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsIndpZHRoIiwiaW5uZXJXaWR0aCIsInNldFNpemUiLCJwZXJzcGVjdGl2ZSIsImFzcGVjdCIsIlBJIiwidGFuIiwidmFsdWVzIiwib25Ub3VjaERvd24iLCJldmVudCIsImlzRG93biIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaFVwIiwiY2hhbmdlZFRvdWNoZXMiLCJ1cGRhdGUiLCJhcHBsaWNhdGlvbiIsInJlbmRlciIsIkdlb21ldHJ5IiwiZGVwdGgiLCJ3aWR0aFNlZ21lbnRzIiwiaGVpZ2h0U2VnbWVudHMiLCJkZXB0aFNlZ21lbnRzIiwiYXR0cmlidXRlcyIsIndTZWdzIiwiaFNlZ3MiLCJkU2VncyIsIm51bSIsIm51bUluZGljZXMiLCJGbG9hdDMyQXJyYXkiLCJub3JtYWwiLCJ1diIsImluZGV4IiwiVWludDMyQXJyYXkiLCJVaW50MTZBcnJheSIsImkiLCJpaSIsImJ1aWxkUGxhbmUiLCJPYmplY3QiLCJhc3NpZ24iLCJzaXplIiwiZGF0YSJdLCJzb3VyY2VSb290IjoiIn0=