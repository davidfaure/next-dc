"use strict";
self["webpackHotUpdatenode_template"]("main",{

/***/ "./app/components/Navigation.js":
/*!**************************************!*\
  !*** ./app/components/Navigation.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Navigation)
/* harmony export */ });
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! gsap */ "./node_modules/gsap/index.js");
/* harmony import */ var _utils_easings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/easings */ "./app/utils/easings.js");
/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data */ "./data.js");
/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);




class Navigation {
  constructor() {
    this.buttonMenu = document.querySelector(".navigation__menu__wrapper");
    this.menu = document.querySelector(".navigation__menu");
    this.expandedMenu = document.querySelector(".navigation__expanded");
    this.expandedMenuWrapper = document.querySelector(".navigation__expanded__wrapper");
    this.navNumber = document.querySelectorAll(".navigation__expanded__wrapper__menu__li__no__wrap");
    this.navName = document.querySelectorAll(".navigation__expanded__wrapper__menu__li__name__wrap");
    this.navLi = document.querySelectorAll(".navigation__expanded__wrapper__menu__li__wrapper");
    this.topLine = document.querySelector(".navigation__menu__burger__line__top");
    this.bottomLine = document.querySelector(".navigation__menu__burger__line__bottom");
    this.isExpanded = false;
    this.isAnimating = false;
    this.addEventListener();
  }
  handleMenuClick() {
    if (!this.isExpanded && !this.isAnimating) {
      this.isAnimating = true;
      this.timelineIn = gsap__WEBPACK_IMPORTED_MODULE_3__["default"].timeline({
        onComplete: () => this.isAnimating = false
      });
      this.timelineIn.set([this.navNumber, this.navName], {
        y: 100,
        rotationX: -50,
        transformOrigin: "50% 50%"
      }).to(this.expandedMenu, {
        width: "100vw",
        height: "100vh",
        borderRadius: "0",
        top: "0",
        left: "0",
        position: "fixed",
        pointerEvents: "all",
        duration: 0.8,
        ease: _utils_easings__WEBPACK_IMPORTED_MODULE_0__.SMOOTH
      }).to(this.expandedMenuWrapper, {
        autoAlpha: "1",
        duration: 0.2,
        ease: _utils_easings__WEBPACK_IMPORTED_MODULE_0__.SMOOTH
      }, "<+=0.6").to([this.navNumber, this.navName], {
        y: 0,
        rotationX: 0,
        transformOrigin: "50% 50%",
        duration: 0.8,
        ease: _utils_easings__WEBPACK_IMPORTED_MODULE_0__.SMOOTH
      }, "<").to(this.menu, {
        boxShadow: "none"
      }, 0);
      this.isExpanded = true;
      this.topLine.setAttribute("points", _data__WEBPACK_IMPORTED_MODULE_1__.topEndString);
      this.bottomLine.setAttribute("points", _data__WEBPACK_IMPORTED_MODULE_1__.bottomEndString);
    } else if (this.isExpanded && !this.isAnimating) {
      this.isAnimating = true;
      this.timelineOut = gsap__WEBPACK_IMPORTED_MODULE_3__["default"].timeline({
        onComplete: () => this.isAnimating = false
      });
      this.timelineOut.to([this.navNumber, this.navName], {
        y: -100,
        rotationX: 50,
        transformOrigin: "50% 50%",
        duration: 0.4,
        ease: _utils_easings__WEBPACK_IMPORTED_MODULE_0__.SMOOTH
      }).to(this.expandedMenu, {
        width: "22rem",
        height: "7rem",
        borderRadius: "4rem",
        position: "absolute",
        pointerEvents: "none",
        top: "6rem",
        left: "6rem",
        duration: 0.8,
        ease: _utils_easings__WEBPACK_IMPORTED_MODULE_0__.SMOOTH
      }, "<").to(this.menu, {
        boxShadow: "rgba(0, 0, 0, 0.18) 2px 2px 4px"
      });
      this.isExpanded = false;
      this.topLine.setAttribute("points", _data__WEBPACK_IMPORTED_MODULE_1__.topStartString);
      this.bottomLine.setAttribute("points", _data__WEBPACK_IMPORTED_MODULE_1__.bottomStartString);
    }
  }
  handleLiMouseOver(e) {
    if (!this.isExpanded) return;
    const hoveredLi = e.currentTarget;
    gsap__WEBPACK_IMPORTED_MODULE_3__["default"].to(hoveredLi, {
      opacity: 1,
      duration: 0.3,
      stagger: 0.02,
      ease: _utils_easings__WEBPACK_IMPORTED_MODULE_0__.SMOOTH
    });
    this.navLi.forEach(li => {
      if (li !== hoveredLi) {
        gsap__WEBPACK_IMPORTED_MODULE_3__["default"].to(li, {
          opacity: 0.2,
          duration: 0.3,
          stagger: 0.02,
          ease: _utils_easings__WEBPACK_IMPORTED_MODULE_0__.SMOOTH
        });
      }
    });
  }
  handleLiMouseOut() {
    if (!this.isExpanded) return;
    this.navLi.forEach(li => {
      gsap__WEBPACK_IMPORTED_MODULE_3__["default"].to(li, {
        opacity: 1,
        duration: 0.3,
        stagger: 0.02,
        ease: _utils_easings__WEBPACK_IMPORTED_MODULE_0__.SMOOTH
      });
    });
  }
  addEventListener() {
    this.buttonMenu.addEventListener("click", this.handleMenuClick.bind(this));
    (0,lodash__WEBPACK_IMPORTED_MODULE_2__.each)(this.navLi, li => {
      li.addEventListener("mouseover", this.handleLiMouseOver.bind(this));
      li.addEventListener("mouseout", this.handleLiMouseOut.bind(this));
    });
  }
}

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("69d4c751f1a1e6a75bbb")
/******/ })();
/******/ 
/******/ }
);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUNDLEVBQUUsSUFBSTtNQUN2QnJELDRDQUFJLENBQUNnQyxFQUFFLENBQUNxQixFQUFFLEVBQUU7UUFDVkgsT0FBTyxFQUFFLENBQUM7UUFDVlYsUUFBUSxFQUFFLEdBQUc7UUFDYlcsT0FBTyxFQUFFLElBQUk7UUFDYlYsSUFBSSxFQUFFeEMsa0RBQU1BO01BQ2QsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0VBQ0o7RUFFQXNCLGdCQUFnQkEsQ0FBQSxFQUFHO0lBQ2pCLElBQUksQ0FBQ2QsVUFBVSxDQUFDYyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDQyxlQUFlLENBQUMrQixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDMUVqRCw0Q0FBSSxDQUFDLElBQUksQ0FBQ1ksS0FBSyxFQUFFbUMsRUFBRSxJQUFJO01BQ3JCQSxFQUFFLENBQUM5QixnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDdUIsaUJBQWlCLENBQUNTLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztNQUNuRUYsRUFBRSxDQUFDOUIsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQytCLGdCQUFnQixDQUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbkUsQ0FBQyxDQUFDO0VBQ0o7QUFDRjs7Ozs7Ozs7VUNsS0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2RlLXRlbXBsYXRlLy4vYXBwL2NvbXBvbmVudHMvTmF2aWdhdGlvbi5qcyIsIndlYnBhY2s6Ly9ub2RlLXRlbXBsYXRlL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ3NhcCBmcm9tIFwiZ3NhcFwiXG5pbXBvcnQgeyBTTU9PVEggfSBmcm9tIFwiLi4vdXRpbHMvZWFzaW5nc1wiXG5cbmltcG9ydCB7IGJvdHRvbVN0YXJ0U3RyaW5nLCBib3R0b21FbmRTdHJpbmcsIHRvcFN0YXJ0U3RyaW5nLCB0b3BFbmRTdHJpbmcgfSBmcm9tIFwiLi4vLi4vZGF0YVwiXG5pbXBvcnQgeyBlYWNoIH0gZnJvbSBcImxvZGFzaFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdmlnYXRpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJ1dHRvbk1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdmlnYXRpb25fX21lbnVfX3dyYXBwZXJcIilcblxuICAgIHRoaXMubWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2aWdhdGlvbl9fbWVudVwiKVxuICAgIHRoaXMuZXhwYW5kZWRNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZpZ2F0aW9uX19leHBhbmRlZFwiKVxuICAgIHRoaXMuZXhwYW5kZWRNZW51V3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2aWdhdGlvbl9fZXhwYW5kZWRfX3dyYXBwZXJcIilcblxuICAgIHRoaXMubmF2TnVtYmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZpZ2F0aW9uX19leHBhbmRlZF9fd3JhcHBlcl9fbWVudV9fbGlfX25vX193cmFwXCIpXG4gICAgdGhpcy5uYXZOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZpZ2F0aW9uX19leHBhbmRlZF9fd3JhcHBlcl9fbWVudV9fbGlfX25hbWVfX3dyYXBcIilcbiAgICB0aGlzLm5hdkxpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZpZ2F0aW9uX19leHBhbmRlZF9fd3JhcHBlcl9fbWVudV9fbGlfX3dyYXBwZXJcIilcblxuICAgIHRoaXMudG9wTGluZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2aWdhdGlvbl9fbWVudV9fYnVyZ2VyX19saW5lX190b3BcIilcbiAgICB0aGlzLmJvdHRvbUxpbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdmlnYXRpb25fX21lbnVfX2J1cmdlcl9fbGluZV9fYm90dG9tXCIpXG5cbiAgICB0aGlzLmlzRXhwYW5kZWQgPSBmYWxzZVxuICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZVxuXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKClcbiAgfVxuXG4gIGhhbmRsZU1lbnVDbGljaygpIHtcbiAgICBpZiAoIXRoaXMuaXNFeHBhbmRlZCAmJiAhdGhpcy5pc0FuaW1hdGluZykge1xuICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IHRydWVcbiAgICAgIHRoaXMudGltZWxpbmVJbiA9IGdzYXAudGltZWxpbmUoeyBvbkNvbXBsZXRlOiAoKSA9PiAodGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlKSB9KVxuICAgICAgdGhpcy50aW1lbGluZUluXG4gICAgICAgIC5zZXQoW3RoaXMubmF2TnVtYmVyLCB0aGlzLm5hdk5hbWVdLCB7XG4gICAgICAgICAgeTogMTAwLFxuICAgICAgICAgIHJvdGF0aW9uWDogLTUwLFxuICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogXCI1MCUgNTAlXCJcbiAgICAgICAgfSlcbiAgICAgICAgLnRvKHRoaXMuZXhwYW5kZWRNZW51LCB7XG4gICAgICAgICAgd2lkdGg6IFwiMTAwdndcIixcbiAgICAgICAgICBoZWlnaHQ6IFwiMTAwdmhcIixcbiAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiMFwiLFxuICAgICAgICAgIHRvcDogXCIwXCIsXG4gICAgICAgICAgbGVmdDogXCIwXCIsXG4gICAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICAgICAgICBwb2ludGVyRXZlbnRzOiBcImFsbFwiLFxuICAgICAgICAgIGR1cmF0aW9uOiAwLjgsXG4gICAgICAgICAgZWFzZTogU01PT1RIXG4gICAgICAgIH0pXG4gICAgICAgIC50byhcbiAgICAgICAgICB0aGlzLmV4cGFuZGVkTWVudVdyYXBwZXIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgYXV0b0FscGhhOiBcIjFcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLjIsXG4gICAgICAgICAgICBlYXNlOiBTTU9PVEhcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiPCs9MC42XCJcbiAgICAgICAgKVxuICAgICAgICAudG8oXG4gICAgICAgICAgW3RoaXMubmF2TnVtYmVyLCB0aGlzLm5hdk5hbWVdLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICByb3RhdGlvblg6IDAsXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IFwiNTAlIDUwJVwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDAuOCxcbiAgICAgICAgICAgIGVhc2U6IFNNT09USFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCI8XCJcbiAgICAgICAgKVxuICAgICAgICAudG8oXG4gICAgICAgICAgdGhpcy5tZW51LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGJveFNoYWRvdzogXCJub25lXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIDBcbiAgICAgICAgKVxuXG4gICAgICB0aGlzLmlzRXhwYW5kZWQgPSB0cnVlXG4gICAgICB0aGlzLnRvcExpbmUuc2V0QXR0cmlidXRlKFwicG9pbnRzXCIsIHRvcEVuZFN0cmluZylcbiAgICAgIHRoaXMuYm90dG9tTGluZS5zZXRBdHRyaWJ1dGUoXCJwb2ludHNcIiwgYm90dG9tRW5kU3RyaW5nKVxuICAgIH0gZWxzZSBpZiAodGhpcy5pc0V4cGFuZGVkICYmICF0aGlzLmlzQW5pbWF0aW5nKSB7XG4gICAgICB0aGlzLmlzQW5pbWF0aW5nID0gdHJ1ZVxuXG4gICAgICB0aGlzLnRpbWVsaW5lT3V0ID0gZ3NhcC50aW1lbGluZSh7IG9uQ29tcGxldGU6ICgpID0+ICh0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2UpIH0pXG5cbiAgICAgIHRoaXMudGltZWxpbmVPdXRcbiAgICAgICAgLnRvKFt0aGlzLm5hdk51bWJlciwgdGhpcy5uYXZOYW1lXSwge1xuICAgICAgICAgIHk6IC0xMDAsXG4gICAgICAgICAgcm90YXRpb25YOiA1MCxcbiAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IFwiNTAlIDUwJVwiLFxuICAgICAgICAgIGR1cmF0aW9uOiAwLjQsXG4gICAgICAgICAgZWFzZTogU01PT1RIXG4gICAgICAgIH0pXG4gICAgICAgIC50byhcbiAgICAgICAgICB0aGlzLmV4cGFuZGVkTWVudSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aDogXCIyMnJlbVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjdyZW1cIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cmVtXCIsXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCIsXG4gICAgICAgICAgICB0b3A6IFwiNnJlbVwiLFxuICAgICAgICAgICAgbGVmdDogXCI2cmVtXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMC44LFxuICAgICAgICAgICAgZWFzZTogU01PT1RIXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIjxcIlxuICAgICAgICApXG4gICAgICAgIC50byh0aGlzLm1lbnUsIHtcbiAgICAgICAgICBib3hTaGFkb3c6IFwicmdiYSgwLCAwLCAwLCAwLjE4KSAycHggMnB4IDRweFwiXG4gICAgICAgIH0pXG5cbiAgICAgIHRoaXMuaXNFeHBhbmRlZCA9IGZhbHNlXG5cbiAgICAgIHRoaXMudG9wTGluZS5zZXRBdHRyaWJ1dGUoXCJwb2ludHNcIiwgdG9wU3RhcnRTdHJpbmcpXG4gICAgICB0aGlzLmJvdHRvbUxpbmUuc2V0QXR0cmlidXRlKFwicG9pbnRzXCIsIGJvdHRvbVN0YXJ0U3RyaW5nKVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUxpTW91c2VPdmVyKGUpIHtcbiAgICBpZiAoIXRoaXMuaXNFeHBhbmRlZCkgcmV0dXJuXG5cbiAgICBjb25zdCBob3ZlcmVkTGkgPSBlLmN1cnJlbnRUYXJnZXRcblxuICAgIGdzYXAudG8oaG92ZXJlZExpLCB7XG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgZHVyYXRpb246IDAuMyxcbiAgICAgIHN0YWdnZXI6IDAuMDIsXG4gICAgICBlYXNlOiBTTU9PVEhcbiAgICB9KVxuXG4gICAgdGhpcy5uYXZMaS5mb3JFYWNoKGxpID0+IHtcbiAgICAgIGlmIChsaSAhPT0gaG92ZXJlZExpKSB7XG4gICAgICAgIGdzYXAudG8obGksIHtcbiAgICAgICAgICBvcGFjaXR5OiAwLjIsXG4gICAgICAgICAgZHVyYXRpb246IDAuMyxcbiAgICAgICAgICBzdGFnZ2VyOiAwLjAyLFxuICAgICAgICAgIGVhc2U6IFNNT09USFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVMaU1vdXNlT3V0KCkge1xuICAgIGlmICghdGhpcy5pc0V4cGFuZGVkKSByZXR1cm5cblxuICAgIHRoaXMubmF2TGkuZm9yRWFjaChsaSA9PiB7XG4gICAgICBnc2FwLnRvKGxpLCB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIGR1cmF0aW9uOiAwLjMsXG4gICAgICAgIHN0YWdnZXI6IDAuMDIsXG4gICAgICAgIGVhc2U6IFNNT09USFxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcigpIHtcbiAgICB0aGlzLmJ1dHRvbk1lbnUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlTWVudUNsaWNrLmJpbmQodGhpcykpXG4gICAgZWFjaCh0aGlzLm5hdkxpLCBsaSA9PiB7XG4gICAgICBsaS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIHRoaXMuaGFuZGxlTGlNb3VzZU92ZXIuYmluZCh0aGlzKSlcbiAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCB0aGlzLmhhbmRsZUxpTW91c2VPdXQuYmluZCh0aGlzKSlcbiAgICB9KVxuICB9XG59XG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCI2OWQ0Yzc1MWYxYTFlNmE3NWJiYlwiKSJdLCJuYW1lcyI6WyJnc2FwIiwiU01PT1RIIiwiYm90dG9tU3RhcnRTdHJpbmciLCJib3R0b21FbmRTdHJpbmciLCJ0b3BTdGFydFN0cmluZyIsInRvcEVuZFN0cmluZyIsImVhY2giLCJOYXZpZ2F0aW9uIiwiY29uc3RydWN0b3IiLCJidXR0b25NZW51IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsImV4cGFuZGVkTWVudSIsImV4cGFuZGVkTWVudVdyYXBwZXIiLCJuYXZOdW1iZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmF2TmFtZSIsIm5hdkxpIiwidG9wTGluZSIsImJvdHRvbUxpbmUiLCJpc0V4cGFuZGVkIiwiaXNBbmltYXRpbmciLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlTWVudUNsaWNrIiwidGltZWxpbmVJbiIsInRpbWVsaW5lIiwib25Db21wbGV0ZSIsInNldCIsInkiLCJyb3RhdGlvblgiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJ0byIsIndpZHRoIiwiaGVpZ2h0IiwiYm9yZGVyUmFkaXVzIiwidG9wIiwibGVmdCIsInBvc2l0aW9uIiwicG9pbnRlckV2ZW50cyIsImR1cmF0aW9uIiwiZWFzZSIsImF1dG9BbHBoYSIsImJveFNoYWRvdyIsInNldEF0dHJpYnV0ZSIsInRpbWVsaW5lT3V0IiwiaGFuZGxlTGlNb3VzZU92ZXIiLCJlIiwiaG92ZXJlZExpIiwiY3VycmVudFRhcmdldCIsIm9wYWNpdHkiLCJzdGFnZ2VyIiwiZm9yRWFjaCIsImxpIiwiaGFuZGxlTGlNb3VzZU91dCIsImJpbmQiXSwic291cmNlUm9vdCI6IiJ9